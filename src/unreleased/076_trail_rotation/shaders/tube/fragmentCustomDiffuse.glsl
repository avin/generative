float l = (length(vPos) - 1.) / tubeLength;

diffuseColor *= l;
