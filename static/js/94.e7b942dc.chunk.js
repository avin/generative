(this.webpackJsonpgenerative=this.webpackJsonpgenerative||[]).push([[94],{49:function(Y,A,d){"use strict";d.r(A);var x=d(759),_=d.n(x),M=d(122),p=d.n(M),v=d(784),u=d.n(v),h=d(772),D=Math.pow,$=(w,X,E)=>new Promise((b,s)=>{var O=g=>{try{R(E.next(g))}catch(y){s(y)}},T=g=>{try{R(E.throw(g))}catch(y){s(y)}},R=g=>g.done?b(g.value):Promise.resolve(g.value).then(O,T);R((E=E.apply(w,X)).next())});const z={dimensions:[600,600],animate:!0},I=["#556270","#4ecdc4","#c7f464","#ff6b6b","#c44d58"],J=[[[0,0],[1,0]],[[1,0],[1,1]],[[0,0],[0,1]],[[0,1],[1,1]]],N=w=>$(void 0,[w],function*({width:X,height:E,canvas:b}){const s=X*.05;let O=0,T=!0,R=-1,g=0,y=[];const a=[],m=Math.floor(X/s),P=Math.floor(E/s),F=()=>{O=0;for(let e=0;e<m;e+=1)for(let r=0;r<P;r+=1)p()(a,[e,r],{x:r,y:e,pixelX:r*s,pixelY:e*s,pride:_.a.rangeFloor(0,4)})},B=(e,r,l=[])=>{l.push(e);for(const o of[[-1,0],[0,-1],[1,0],[0,1]]){const t={x:e.x+o[0],y:e.y+o[1]};if(!l.find(n=>n.x===t.x&&n.y===t.y)){const n=u()(a,[t.y,t.x]);if(n&&n.pride===r){const c=n.pride;B(n,c,l)}}}},V=()=>{let e=!1;for(let r=0;r<m&&!e;r+=1)for(let l=0;l<P;l+=1){const o=a[r][l];if(o.pride!==void 0){const t=[];if(B(o,o.pride,t),t.length>1){e=!0;break}}}return e},H=e=>{y=[],O+=D(e.length,2);for(const l of e)l.pride=void 0;for(let l=0;l<P;l+=1){let o=[];for(let t=0;t<m;t+=1)o.push(a[t][l]);o=o.sort(t=>t.pride===void 0?-1:1),o.forEach((t,n)=>{t.y=n,a[n][l]=t})}const r=[];a[m-1].forEach((l,o)=>{l.pride===void 0&&r.push(o)});for(let l=0;l<m;l+=1){let o=a[l];o=o.sort(t=>r.includes(t.x)?-1:1),o=o.map((t,n)=>(t.x=n,t)),a[l]=o}for(let l=0;l<m;l+=1){const o=a[l];for(let t=0;t<P;t+=1){const n=o[t];n.x-=r.length,n.x<0&&(n.x=P+n.x)}a[l]=o.sort((t,n)=>t.x-n.x)}V()||(T=!0,R=g)};b.addEventListener("click",e=>{if(T){g-R>1&&(F(),T=!1,Object(h.a)(200,"sine",.9));return}const r=e.target.getBoundingClientRect(),l=r.width/X,o=r.height/E,t=Math.floor((e.clientX-r.left)/(s*l)),n=Math.floor((e.clientY-r.top)/(s*o)),c=u()(a,[n,t]);if(c&&c.pride!==void 0){const i=c.pride,f=[];B(c,i,f),f.length>1&&(Object(h.a)(349.2+f.length*50,"sine",.12),H(f),b.dispatchEvent(new Event("mousemove",e)))}});let K,W;return b.addEventListener("mousemove",e=>{if(T)return;const r=e.target.getBoundingClientRect(),l=r.width/X,o=r.height/E,t=Math.floor((e.clientX-r.left)/(s*l)),n=Math.floor((e.clientY-r.top)/(s*o));if(K===t&&W===n)return;K=t,W=n,y=[];for(let i=0;i<m;i+=1)for(let f=0;f<P;f+=1)a[i][f].highlight=!1;const c=u()(a,[n,t]);if(c&&c.pride!==void 0){const i=c.pride,f=[];B(c,i,f),f.length>1&&f.forEach(C=>{C.highlight=!0})}for(let i=0;i<m;i+=1)for(let f=0;f<P;f+=1){const C=a[i][f];if(C.highlight)for(const[k,U]of J){const L=[[C.x+k[0],C.y+k[1]],[C.x+U[0],C.y+U[1]]],G=y.findIndex(S=>S[0][0]===L[0][0]&&S[0][1]===L[0][1]&&S[1][0]===L[1][0]&&S[1][1]===L[1][1]);G===-1?y.push(L):y=y.filter((S,Q)=>Q!==G)}}}),({context:e,width:r,height:l,time:o})=>{g=o,e.fillStyle="hsla(0, 0%, 98%, 1)",e.fillRect(0,0,r,l);for(let t=0;t<a.length;t+=1){const n=a[t];for(let c=0;c<n.length;c+=1){const i=n[c];i.pixelY<i.y*s?i.pixelY+=Math.sqrt(i.y*s-i.pixelY):i.pixelY=i.y*s,i.pixelX>i.x*s?i.pixelX-=Math.sqrt(i.pixelX-i.x*s):i.pixelX=i.x*s,I[i.pride]&&(e.fillStyle=I[i.pride],e.fillRect(i.pixelX,i.pixelY,s+.5,s+1))}}if(e.lineWidth=1.5,e.lineCap="butt",e.strokeStyle="hsla(0,0%,0%, 0.5)",y.forEach(t=>{e.beginPath(),e.moveTo(t[0][0]*s,t[0][1]*s),e.lineTo(t[1][0]*s,t[1][1]*s),e.stroke()}),T){e.save(),e.translate(r/2,l/2),e.rotate(Math.cos(o*2)/10),e.scale(Math.cos(o*4)/8+1,Math.cos(o*4)/8+1);const t=80;e.font=`bold ${t}px Arial`,e.textAlign="center",e.shadowBlur=6,e.shadowColor="hsl(0, 0%, 10%)";const n=O===0?"Pixel Mania":"Game Over!";e.fillStyle="rgba(255,0,0,0.4)",e.fillText(n,Math.cos(o*4)*5,0),e.fillStyle="rgba(0,255,255,0.4)",e.fillText(n,Math.sin(o*4)*5,0),e.fillStyle="hsl(0, 0%, 100%)",e.fillText(n,0,0),e.fillStyle="hsl(0, 0%, 97.5%)",O?(e.font=`bold ${t-20}px Arial`,e.fillText(`Score: ${O}`,0,t-10)):(e.font=`bold ${t-30}px Arial`,e.fillText("Click to start!",0,t-20)),e.restore()}}});A.default={sketch:N,settings:z}},772:function(Y,A,d){"use strict";d.d(A,"a",function(){return _});const x=new(window.AudioContext||window.webkitAudioContext);function _(M,p,v,u=1){const h=x.createOscillator(),D=x.createGain();h.connect(D),h.type=p,D.connect(x.destination),h.frequency.value=M,h.start(),D.gain.value=u,D.gain.exponentialRampToValueAtTime(1e-5,x.currentTime+v),setTimeout(()=>{h.stop(),h.disconnect()},(v+.5)*1e3)}},784:function(Y,A,d){var x=d(785);function _(M,p,v){var u=M==null?void 0:x(M,p);return u===void 0?v:u}Y.exports=_},785:function(Y,A,d){var x=d(153),_=d(154);function M(p,v){v=x(v,p);for(var u=0,h=v.length;p!=null&&u<h;)p=p[_(v[u++])];return u&&u==h?p:void 0}Y.exports=M}}]);
