(this.webpackJsonpgenerative=this.webpackJsonpgenerative||[]).push([[83],{120:function(E,M,w){"use strict";w.r(M);var v=w(767),d=w(786),p=w.n(d),g=w(813),_=w.n(g);function h(i,c){let e;if(c===void 0)for(const t of i)t!=null&&(e<t||e===void 0&&t>=t)&&(e=t);else{let t=-1;for(let r of i)(r=c(r,++t,i))!=null&&(e<r||e===void 0&&r>=r)&&(e=r)}return e}function n(i,c){let e;if(c===void 0)for(const t of i)t!=null&&(e>t||e===void 0&&t>=t)&&(e=t);else{let t=-1;for(let r of i)(r=c(r,++t,i))!=null&&(e>r||e===void 0&&r>=r)&&(e=r)}return e}var a=function(i,c){return i<c?-1:i>c?1:i>=c?0:NaN};function u(i,c,e=0,t=i.length-1,r=a){for(;t>e;){if(t-e>600){const y=t-e+1,I=c-e+1,A=Math.log(y),m=.5*Math.exp(2*A/3),T=.5*Math.sqrt(A*m*(y-m)/y)*(I-y/2<0?-1:1),C=Math.max(e,Math.floor(c-I*m/y+T)),N=Math.min(t,Math.floor(c+(y-I)*m/y+T));u(i,c,C,N,r)}const s=i[c];let l=e,f=t;for(o(i,e,c),r(i[t],s)>0&&o(i,e,t);l<f;){for(o(i,l,f),++l,--f;r(i[l],s)<0;)++l;for(;r(i[f],s)>0;)--f}r(i[e],s)===0?o(i,e,f):(++f,o(i,f,t)),f<=c&&(e=f+1),c<=f&&(t=f-1)}return i}function o(i,c,e){const t=i[c];i[c]=i[e],i[e]=t}var b=function(i){return i===null?NaN:+i};function*P(i,c){if(c===void 0)for(let e of i)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let t of i)(t=c(t,++e,i))!=null&&(t=+t)>=t&&(yield t)}}function S(i,c,e){if(i=Float64Array.from(P(i,e)),!!(t=i.length)){if((c=+c)<=0||t<2)return n(i);if(c>=1)return h(i);var t,r=(t-1)*c,s=Math.floor(r),l=h(u(i,s).subarray(0,s+1)),f=n(i.subarray(s+1));return l+(f-l)*(r-s)}}function J(i,c,e=b){if(!!(t=i.length)){if((c=+c)<=0||t<2)return+e(i[0],0,i);if(c>=1)return+e(i[t-1],t-1,i);var t,r=(t-1)*c,s=Math.floor(r),l=+e(i[s],s,i),f=+e(i[s+1],s+1,i);return l+(f-l)*(r-s)}}var k=function(i,c){return S(i,.5,c)};function j(i,c){const e=[],t=Math.floor(i.length/c);for(let r=0;r<c;r+=1){let s=0;for(let l=0;l<t;l+=1)s+=i[r*t+l];e.push(s/t)}return e}var O=w(769),F=(i,c,e)=>new Promise((t,r)=>{var s=y=>{try{f(e.next(y))}catch(I){r(I)}},l=y=>{try{f(e.throw(y))}catch(I){r(I)}},f=y=>y.done?t(y.value):Promise.resolve(y.value).then(s,l);f((e=e.apply(i,c)).next())});const q={dimensions:[1024,1024],animate:!0},D=i=>F(void 0,[i],function*({width:c,height:e,canvas:t}){const r=c*.1,s=m=>Object(v.lerp)(r,c-r,m),l=m=>Object(v.lerp)(r,e-r,m);let f=!1,y,I=[];const A=new p.a("b95f61a90da961736c03f659c03cb0cc");return t.addEventListener("click",()=>{f||(f=!0,A.resolve("https://soundcloud.com/lil_peep/spotlight-1",m=>{A.play();const T=A.audio;T.crossOrigin="Anonymous",T.autoplay=!0,T.play(),y=_()(T,{stereo:!1})}))}),{render({context:m,width:T,height:C,time:N}){if(!f){m.fillStyle="hsla(0, 0%, 98%, 1)",m.fillRect(0,0,T,C),m.save(),m.translate(T/2,C/2),m.rotate(Math.cos(N*4)/5),m.font="bold 90px Arial",m.textAlign="center",m.fillStyle="hsl(0, 0%, 20%)",m.fillText("Click to start",0,0),m.restore();return}if(!y){m.fillStyle="hsla(0, 0%, 98%, 1)",m.fillRect(0,0,T,C);return}m.fillStyle="hsla(0, 0%, 98%, 0.08)",m.fillRect(0,0,T,C);const W=y.frequencies();I=j(W,1e3).slice(50,650);const Q=k(W),X=[],z=15,G=.8/z,H=Math.floor(I.length/z);for(let x=0;x<z;x+=1){const R=I.slice(x*H,(x+1)*H),U=[];for(let L=0;L<Math.PI*2;L+=.1){const K=Math.floor(L/(Math.PI*2)*R.length),$=Object(v.lerp)(1-G*(x+1),1-G*x,R[K]/(255/4));U.push([$*Math.cos(L+N*Math.sqrt(x)/2)/2+.5,$*Math.sin(L+N*Math.sqrt(x)/2)/2+.5])}X.push(U)}X.forEach((x,R)=>{const U=x.map(L=>[s(L[0]),l(L[1])]);m.strokeStyle=`hsl(${Q*2+R*10+N*30}, 50%,50%)`,Object(O.a)(m,U,!0)})},unload(){A.stop()}}});var B=M.default={sketch:D,settings:q}},705:function(E,M){E.exports=function(){for(var w=0;w<arguments.length;w++)if(arguments[w]!==void 0)return arguments[w]}},763:function(E,M){E.exports=w;function w(v,d,p){if(typeof d!="number"||typeof p!="number")throw new TypeError('Must specify "to" and "from" arguments as numbers');if(d>p){var g=d;d=p,p=g}var _=p-d;return _===0?p:v-_*Math.floor((v-d)/_)}},767:function(E,M,w){var v=w(705),d=w(763),p=Number.EPSILON;function g(e,t,r){return t<r?e<t?t:e>r?r:e:e<r?r:e>t?t:e}function _(e){return g(e,0,1)}function h(e,t,r){return e*(1-r)+t*r}function n(e,t,r){return Math.abs(e-t)<p?0:(r-e)/(t-e)}function a(e,t,r){var s=g(n(e,t,r),0,1);return s*s*(3-2*s)}function u(e,t){return t=v(t,0),typeof e=="number"&&isFinite(e)?e:t}function o(e){if(typeof e!="number")throw new TypeError("Expected dims argument");return function(t,r){r=v(r,0);var s;t==null?s=r:typeof t=="number"&&isFinite(t)&&(s=t);var l=[],f;if(s==null)for(f=0;f<e;f++)l[f]=u(t[f],r);else for(f=0;f<e;f++)l[f]=s;return l}}function b(e,t,r,s){if(s=s||[],e.length!==t.length)throw new TypeError("min and max array are expected to have the same length");for(var l=0;l<e.length;l++)s[l]=h(e[l],t[l],r);return s}function P(e,t){if(e=v(e,0),typeof e!="number")throw new TypeError("Expected n argument to be a number");for(var r=[],s=0;s<e;s++)r.push(t);return r}function S(e,t){if(e=v(e,0),typeof e!="number")throw new TypeError("Expected n argument to be a number");t=t||{},typeof t=="boolean"&&(t={endpoint:!0});var r=v(t.offset,0);return t.endpoint?P(e).map(function(s,l){return e<=1?0:(l+r)/(e-1)}):P(e).map(function(s,l){return(l+r)/e})}function J(e,t,r){t=g(t,0,1);var s=e.length-1,l=t*s,f=Math.floor(l),y=l-f,I=Math.min(f+1,s),A=e[f%e.length],m=e[I%e.length];if(typeof A=="number"&&typeof m=="number")return h(A,m,y);if(Array.isArray(A)&&Array.isArray(m))return b(A,m,y,r);throw new TypeError("Mismatch in value type of two array elements: "+f+" and "+I)}function k(e,t){return(e%t+t)%t}function j(e){return e*Math.PI/180}function O(e){return e*180/Math.PI}function F(e){return e-Math.floor(e)}function q(e){return e>0?1:e<0?-1:0}function D(e,t){return e=k(e,t*2),t-Math.abs(e-t)}function B(e,t,r,s){return h(e,t,1-Math.exp(-r*s))}function i(e,t,r,s,l){l=l||[];for(var f=0;f<e.length;f++)l[f]=B(e[f],t[f],r,s);return l}function c(e,t,r,s,l,f){if(Math.abs(t-r)<p)return s;var y=(e-t)/(r-t)*(l-s)+s;return f&&(l<s?y<l?y=l:y>s&&(y=s):y>l?y=l:y<s&&(y=s)),y}E.exports={mod:k,fract:F,sign:q,degToRad:j,radToDeg:O,wrap:d,pingPong:D,linspace:S,lerp:h,lerpArray:b,inverseLerp:n,lerpFrames:J,clamp:g,clamp01:_,smoothstep:a,damp:B,dampArray:i,mapRange:c,expand2D:o(2),expand3D:o(3),expand4D:o(4)}},769:function(E,M,w){"use strict";w.d(M,"b",function(){return v}),w.d(M,"a",function(){return d});function v(h,n,a=!1){h.beginPath();for(let u=0;u<n.length;u+=1){const o=n[u];u===0?h.moveTo(o[0],o[1]):h.lineTo(o[0],o[1])}a&&h.closePath()}const d=(h,n,a=!1)=>{v(h,n,a),h.stroke()};function p(h,n,a,u,o,b,P=255){const S=(~~n+~~a*h.width)*4;h.data[S]=~~u,h.data[S+1]=~~o,h.data[S+2]=~~b,h.data[S+3]=~~P}const g=[0,0,0,0];function _(h,n,a,u){const o=(~~n+~~a*h.width)*4;if(u!==void 0)return h.data[o+u];for(let b=0;b<4;b+=1)g[b]=o+b;return g}},786:function(E,M,w){"use strict";var v="https://api.soundcloud.com",d,p="protocol hostname host pathname port search hash href".split(" ");function g(n){d||(d=document.createElement("a"));var a={};d.href=n||"";for(var u=0,o=p.length;u<o;u++){var b=p[u];a[b]=d[b]}return a}function _(n,a,u){var o=g(n),b=/\?(?:.*)$/,P=b.test(o.search)?"&":"?",S=o.protocol+"//"+o.host+o.port+o.pathname+o.search+P+a+"="+u+o.hash;return S}function h(n,a){if(!(this instanceof h))return new h(n,a);!n&&!a&&console.info("SoundCloud API requires clientId or custom apiUrl"),this._events={},this._clientId=n,this._baseUrl=a||v,this.playing=!1,this.duration=0,this.audio=document.createElement("audio")}h.prototype.resolve=function(n,a){var u=this._baseUrl+"/resolve.json?url="+encodeURIComponent(n);this._clientId&&(u=_(u,"client_id",this._clientId)),this._json(u,function(o){if(this.cleanData(),Array.isArray(o)&&(o={tracks:o}),o.tracks)o.tracks=o.tracks.map(this._transformTrack.bind(this)),this._playlist=o;else{this._track=this._transformTrack(o);var b=g(n);this._track.stream_url+=b.hash}this.duration=o.duration&&!isNaN(o.duration)?o.duration/1e3:0,a(o)}.bind(this))},h.prototype._jsonp=function(n,a){var u=document.getElementsByTagName("script")[0]||document.head,o=document.createElement("script"),b="jsonp_callback_"+new Date().valueOf()+Math.floor(Math.random()*1e3);window[b]=function(P){o.parentNode&&o.parentNode.removeChild(o),window[b]=function(){},a(P)},o.src=_(n,"callback",b),u.parentNode.insertBefore(o,u)},h.prototype._json=function(n,a){var u=new XMLHttpRequest;u.open("GET",n),u.onreadystatechange=function(){if(u.readyState===4&&u.status===200){var o={};try{o=JSON.parse(u.responseText)}catch(b){}a(o)}},u.send(null)},h.prototype._transformTrack=function(n){return this._baseUrl!==v&&(n.original_stream_url=n.stream_url,n.stream_url=n.stream_url.replace(v,this._baseUrl)),n},h.prototype.on=function(n,a){this._events[n]=a,this.audio.addEventListener(n,a,!1)},h.prototype.off=function(n,a){this._events[n]=null,this.audio.removeEventListener(n,a)},h.prototype.unbindAll=function(){for(var n in this._events){var a=this._events[n];a&&this.off(n,a)}},h.prototype.preload=function(n,a){this._track={stream_url:n},a&&(this.audio.preload=a),this.audio.src=this._clientId?_(n,"client_id",this._clientId):n},h.prototype.play=function(n){n=n||{};var a;if(n.streamUrl)a=n.streamUrl;else if(this._playlist){var u=this._playlist.tracks.length;if(u){if(n.playlistIndex===void 0?this._playlistIndex=this._playlistIndex||0:this._playlistIndex=n.playlistIndex,this._playlistIndex>=u||this._playlistIndex<0){this._playlistIndex=0;return}a=this._playlist.tracks[this._playlistIndex].stream_url}}else this._track&&(a=this._track.stream_url);if(!a)throw new Error("There is no tracks to play, use `streamUrl` option or `load` method");return this._clientId&&(a=_(a,"client_id",this._clientId)),a!==this.audio.src&&(this.audio.src=a),this.playing=a,this.audio.play()},h.prototype.pause=function(){this.audio.pause(),this.playing=!1},h.prototype.stop=function(){this.audio.pause(),this.audio.currentTime=0,this.playing=!1},h.prototype.next=function(n){n=n||{};var a=this._playlist.tracks.length;if(this._playlistIndex>=a-1)if(n.loop)this._playlistIndex=-1;else return;if(this._playlist&&a)return this.play({playlistIndex:++this._playlistIndex})},h.prototype.previous=function(){if(!(this._playlistIndex<=0)&&this._playlist&&this._playlist.tracks.length)return this.play({playlistIndex:--this._playlistIndex})},h.prototype.seek=function(n){if(!this.audio.readyState)return!1;var a=n.offsetX/n.target.offsetWidth||(n.layerX-n.target.offsetLeft)/n.target.offsetWidth;this.audio.currentTime=a*(this.audio.duration||0)},h.prototype.cleanData=function(){this._track=void 0,this._playlist=void 0},h.prototype.setVolume=function(n){!this.audio.readyState||(this.audio.volume=n)},h.prototype.setTime=function(n){!this.audio.readyState||(this.audio.currentTime=n)},E.exports=h},813:function(E,M){var w=window.AudioContext||window.webkitAudioContext;E.exports=v;function v(d,p,g){if(!(this instanceof v))return new v(d,p,g);if(p instanceof w||(g=p,p=null),g=g||{},this.ctx=p=p||new w,d instanceof AudioNode||(d=d instanceof Audio||d instanceof HTMLAudioElement?p.createMediaElementSource(d):p.createMediaStreamSource(d)),this.analyser=p.createAnalyser(),this.stereo=!!g.stereo,this.audible=g.audible!==!1,this.wavedata=null,this.freqdata=null,this.splitter=null,this.merger=null,this.source=d,!this.stereo)this.output=this.source,this.source.connect(this.analyser),this.audible&&this.analyser.connect(p.destination);else{this.analyser=[this.analyser],this.analyser.push(p.createAnalyser()),this.splitter=p.createChannelSplitter(2),this.merger=p.createChannelMerger(2),this.output=this.merger,this.source.connect(this.splitter);for(var _=0;_<2;_++)this.splitter.connect(this.analyser[_],_,0),this.analyser[_].connect(this.merger,0,_);this.audible&&this.merger.connect(p.destination)}}v.prototype.waveform=function(d,p){d||(d=this.wavedata||(this.wavedata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount)));var g=this.stereo?this.analyser[p||0]:this.analyser;return g.getByteTimeDomainData(d),d},v.prototype.frequencies=function(d,p){d||(d=this.freqdata||(this.freqdata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount)));var g=this.stereo?this.analyser[p||0]:this.analyser;return g.getByteFrequencyData(d),d}}}]);
