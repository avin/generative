(this.webpackJsonpgenerative=this.webpackJsonpgenerative||[]).push([[76,220,221],{341:function(R,P,g){"use strict";g.r(P),P.default=`#define GLSLIFY 1
positionUpdated = positionUpdated + normalUpdated * radius * (2.0 + positionUpdated.z * .025);

float t = iTime * speed;
float k = positionUpdated.z * factor;
positionUpdated.x += sin(k - t) * swingSize;
positionUpdated.y += cos(k - t) * swingSize;
`},342:function(R,P,g){"use strict";g.r(P),P.default=`#define GLSLIFY 1
float t = iTime * speed;
float k = positionUpdated.z * factor;
positionUpdated.x += sin(k - t) * swingSize;
positionUpdated.y += cos(k - t) * swingSize;
`},498:function(R,P,g){"use strict";g.d(P,"a",function(){return h});var B=g(434),v=g(439),S=g(436),r=g(441),o=g(453),_=g(484);o.a.AddNodeConstructor("Light_Type_3",function(p,f){return function(){return new h(p,S.e.Zero(),f)}});var h=function(p){Object(B.d)(f,p);function f(s,m,c){var I=p.call(this,s,c)||this;return I.groundColor=new r.a(0,0,0),I.direction=m||S.e.Up(),I}return f.prototype._buildUniformLayout=function(){this._uniformBuffer.addUniform("vLightData",4),this._uniformBuffer.addUniform("vLightDiffuse",4),this._uniformBuffer.addUniform("vLightSpecular",4),this._uniformBuffer.addUniform("vLightGround",3),this._uniformBuffer.addUniform("shadowsInfo",3),this._uniformBuffer.addUniform("depthValues",2),this._uniformBuffer.create()},f.prototype.getClassName=function(){return"HemisphericLight"},f.prototype.setDirectionToTarget=function(s){return this.direction=S.e.Normalize(s.subtract(S.e.Zero())),this.direction},f.prototype.getShadowGenerator=function(){return null},f.prototype.transferToEffect=function(s,m){var c=S.e.Normalize(this.direction);return this._uniformBuffer.updateFloat4("vLightData",c.x,c.y,c.z,0,m),this._uniformBuffer.updateColor3("vLightGround",this.groundColor.scale(this.intensity),m),this},f.prototype.transferToNodeMaterialEffect=function(s,m){var c=S.e.Normalize(this.direction);return s.setFloat3(m,c.x,c.y,c.z),this},f.prototype.computeWorldMatrix=function(){return this._worldMatrix||(this._worldMatrix=S.a.Identity()),this._worldMatrix},f.prototype.getTypeID=function(){return _.a.LIGHTTYPEID_HEMISPHERICLIGHT},f.prototype.prepareLightSpecificDefines=function(s,m){s["HEMILIGHT"+m]=!0},Object(B.c)([Object(v.e)()],f.prototype,"groundColor",void 0),Object(B.c)([Object(v.o)()],f.prototype,"direction",void 0),f}(_.a)},549:function(R,P,g){"use strict";g.d(P,"a",function(){return v});const B=()=>!!document.createElement("canvas").getContext("webgl2"),v=()=>B()?"webgl2":"webgl"},555:function(R,P,g){"use strict";var B=g(446),v=g(447),S=g(436);B.a.prototype.thinInstanceAdd=function(r,o){o===void 0&&(o=!0),this._thinInstanceUpdateBufferSize("matrix",Array.isArray(r)?r.length:1);var _=this._thinInstanceDataStorage.instancesCount;if(Array.isArray(r))for(var h=0;h<r.length;++h)this.thinInstanceSetMatrixAt(this._thinInstanceDataStorage.instancesCount++,r[h],h===r.length-1&&o);else this.thinInstanceSetMatrixAt(this._thinInstanceDataStorage.instancesCount++,r,o);return _},B.a.prototype.thinInstanceAddSelf=function(r){return r===void 0&&(r=!0),this.thinInstanceAdd(S.a.IdentityReadOnly,r)},B.a.prototype.thinInstanceRegisterAttribute=function(r,o){this.removeVerticesData(r),this._thinInstanceInitializeUserStorage(),this._userThinInstanceBuffersStorage.strides[r]=o,this._userThinInstanceBuffersStorage.sizes[r]=o*Math.max(32,this._thinInstanceDataStorage.instancesCount),this._userThinInstanceBuffersStorage.data[r]=new Float32Array(this._userThinInstanceBuffersStorage.sizes[r]),this._userThinInstanceBuffersStorage.vertexBuffers[r]=new v.b(this.getEngine(),this._userThinInstanceBuffersStorage.data[r],r,!0,!1,o,!0),this.setVerticesBuffer(this._userThinInstanceBuffersStorage.vertexBuffers[r])},B.a.prototype.thinInstanceSetMatrixAt=function(r,o,_){if(_===void 0&&(_=!0),!this._thinInstanceDataStorage.matrixData||r>=this._thinInstanceDataStorage.instancesCount)return!1;var h=this._thinInstanceDataStorage.matrixData;return o.copyToArray(h,r*16),this._thinInstanceDataStorage.worldMatrices&&(this._thinInstanceDataStorage.worldMatrices[r]=o),_&&(this.thinInstanceBufferUpdated("matrix"),this.doNotSyncBoundingInfo||this.thinInstanceRefreshBoundingInfo(!1)),!0},B.a.prototype.thinInstanceSetAttributeAt=function(r,o,_,h){return h===void 0&&(h=!0),!this._userThinInstanceBuffersStorage||!this._userThinInstanceBuffersStorage.data[r]||o>=this._thinInstanceDataStorage.instancesCount?!1:(this._thinInstanceUpdateBufferSize(r,0),this._userThinInstanceBuffersStorage.data[r].set(_,o*this._userThinInstanceBuffersStorage.strides[r]),h&&this.thinInstanceBufferUpdated(r),!0)},Object.defineProperty(B.a.prototype,"thinInstanceCount",{get:function(){return this._thinInstanceDataStorage.instancesCount},set:function(r){var o,_,h=((_=(o=this._thinInstanceDataStorage.matrixData)===null||o===void 0?void 0:o.length)!==null&&_!==void 0?_:0)/16;r<=h&&(this._thinInstanceDataStorage.instancesCount=r)},enumerable:!0,configurable:!0}),B.a.prototype.thinInstanceSetBuffer=function(r,o,_,h){var p,f;if(_===void 0&&(_=0),h===void 0&&(h=!1),_=_||16,r==="matrix")if((p=this._thinInstanceDataStorage.matrixBuffer)===null||p===void 0||p.dispose(),this._thinInstanceDataStorage.matrixBuffer=null,this._thinInstanceDataStorage.matrixBufferSize=o?o.length:32*_,this._thinInstanceDataStorage.matrixData=o,this._thinInstanceDataStorage.worldMatrices=null,o!==null){this._thinInstanceDataStorage.instancesCount=o.length/_;var s=new v.a(this.getEngine(),o,!h,_,!1,!0);this._thinInstanceDataStorage.matrixBuffer=s,this.setVerticesBuffer(s.createVertexBuffer("world0",0,4)),this.setVerticesBuffer(s.createVertexBuffer("world1",4,4)),this.setVerticesBuffer(s.createVertexBuffer("world2",8,4)),this.setVerticesBuffer(s.createVertexBuffer("world3",12,4)),this.doNotSyncBoundingInfo||this.thinInstanceRefreshBoundingInfo(!1)}else this._thinInstanceDataStorage.instancesCount=0,this.doNotSyncBoundingInfo||this.refreshBoundingInfo(!0);else o===null?((f=this._userThinInstanceBuffersStorage)===null||f===void 0?void 0:f.data[r])&&(this.removeVerticesData(r),delete this._userThinInstanceBuffersStorage.data[r],delete this._userThinInstanceBuffersStorage.strides[r],delete this._userThinInstanceBuffersStorage.sizes[r],delete this._userThinInstanceBuffersStorage.vertexBuffers[r]):(this._thinInstanceInitializeUserStorage(),this._userThinInstanceBuffersStorage.data[r]=o,this._userThinInstanceBuffersStorage.strides[r]=_,this._userThinInstanceBuffersStorage.sizes[r]=o.length,this._userThinInstanceBuffersStorage.vertexBuffers[r]=new v.b(this.getEngine(),o,r,!h,!1,_,!0),this.setVerticesBuffer(this._userThinInstanceBuffersStorage.vertexBuffers[r]))},B.a.prototype.thinInstanceBufferUpdated=function(r){var o;r==="matrix"?this._thinInstanceDataStorage.matrixBuffer&&this._thinInstanceDataStorage.matrixBuffer.updateDirectly(this._thinInstanceDataStorage.matrixData,0,this._thinInstanceDataStorage.instancesCount):((o=this._userThinInstanceBuffersStorage)===null||o===void 0?void 0:o.vertexBuffers[r])&&this._userThinInstanceBuffersStorage.vertexBuffers[r].updateDirectly(this._userThinInstanceBuffersStorage.data[r],0)},B.a.prototype.thinInstancePartialBufferUpdate=function(r,o,_){var h;r==="matrix"?this._thinInstanceDataStorage.matrixBuffer&&this._thinInstanceDataStorage.matrixBuffer.updateDirectly(o,_):((h=this._userThinInstanceBuffersStorage)===null||h===void 0?void 0:h.vertexBuffers[r])&&this._userThinInstanceBuffersStorage.vertexBuffers[r].updateDirectly(o,_)},B.a.prototype.thinInstanceGetWorldMatrices=function(){if(!this._thinInstanceDataStorage.matrixData||!this._thinInstanceDataStorage.matrixBuffer)return[];var r=this._thinInstanceDataStorage.matrixData;if(!this._thinInstanceDataStorage.worldMatrices){this._thinInstanceDataStorage.worldMatrices=new Array;for(var o=0;o<this._thinInstanceDataStorage.instancesCount;++o)this._thinInstanceDataStorage.worldMatrices[o]=S.a.FromArray(r,o*16)}return this._thinInstanceDataStorage.worldMatrices},B.a.prototype.thinInstanceRefreshBoundingInfo=function(r){if(r===void 0&&(r=!1),!(!this._thinInstanceDataStorage.matrixData||!this._thinInstanceDataStorage.matrixBuffer)){var o=this._thinInstanceDataStorage.boundingVectors;r&&(o.length=0,this.refreshBoundingInfo(!0));var _=this.getBoundingInfo(),h=this._thinInstanceDataStorage.matrixData;if(o.length===0)for(var p=0;p<_.boundingBox.vectors.length;++p)o.push(_.boundingBox.vectors[p].clone());S.c.Vector3[0].setAll(Number.POSITIVE_INFINITY),S.c.Vector3[1].setAll(Number.NEGATIVE_INFINITY);for(var f=0;f<this._thinInstanceDataStorage.instancesCount;++f){S.a.FromArrayToRef(h,f*16,S.c.Matrix[0]);for(var p=0;p<o.length;++p)S.e.TransformCoordinatesToRef(o[p],S.c.Matrix[0],S.c.Vector3[2]),S.c.Vector3[0].minimizeInPlace(S.c.Vector3[2]),S.c.Vector3[1].maximizeInPlace(S.c.Vector3[2])}_.reConstruct(S.c.Vector3[0],S.c.Vector3[1]),this._updateBoundingInfo()}},B.a.prototype._thinInstanceUpdateBufferSize=function(r,o){var _,h;o===void 0&&(o=1);var p=r==="matrix";if(!(!p&&(!this._userThinInstanceBuffersStorage||!this._userThinInstanceBuffersStorage.strides[r]))){for(var f=p?16:this._userThinInstanceBuffersStorage.strides[r],s=p?this._thinInstanceDataStorage.matrixBufferSize:this._userThinInstanceBuffersStorage.sizes[r],m=p?this._thinInstanceDataStorage.matrixData:this._userThinInstanceBuffersStorage.data[r],c=(this._thinInstanceDataStorage.instancesCount+o)*f,I=s;I<c;)I*=2;if(!m||s!=I){if(!m)m=new Float32Array(I);else{var U=new Float32Array(I);U.set(m,0),m=U}if(p){(_=this._thinInstanceDataStorage.matrixBuffer)===null||_===void 0||_.dispose();var x=new v.a(this.getEngine(),m,!0,f,!1,!0);this._thinInstanceDataStorage.matrixBuffer=x,this._thinInstanceDataStorage.matrixData=m,this._thinInstanceDataStorage.matrixBufferSize=I,this.setVerticesBuffer(x.createVertexBuffer("world0",0,4)),this.setVerticesBuffer(x.createVertexBuffer("world1",4,4)),this.setVerticesBuffer(x.createVertexBuffer("world2",8,4)),this.setVerticesBuffer(x.createVertexBuffer("world3",12,4))}else(h=this._userThinInstanceBuffersStorage.vertexBuffers[r])===null||h===void 0||h.dispose(),this._userThinInstanceBuffersStorage.data[r]=m,this._userThinInstanceBuffersStorage.sizes[r]=I,this._userThinInstanceBuffersStorage.vertexBuffers[r]=new v.b(this.getEngine(),m,r,!0,!1,f,!0),this.setVerticesBuffer(this._userThinInstanceBuffersStorage.vertexBuffers[r])}}},B.a.prototype._thinInstanceInitializeUserStorage=function(){this._userThinInstanceBuffersStorage||(this._userThinInstanceBuffersStorage={data:{},sizes:{},vertexBuffers:{},strides:{}})},B.a.prototype._disposeThinInstanceSpecificData=function(){var r;((r=this._thinInstanceDataStorage)===null||r===void 0?void 0:r.matrixBuffer)&&(this._thinInstanceDataStorage.matrixBuffer.dispose(),this._thinInstanceDataStorage.matrixBuffer=null)}},743:function(R,P,g){"use strict";g.d(P,"a",function(){return v});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var B=function(t,n){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(e[u]=i[u])},B(t,n)};function v(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");B(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var S=function(){return S=Object.assign||function(n){for(var e,i=1,u=arguments.length;i<u;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},S.apply(this,arguments)};function r(t,n){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(t);u<i.length;u++)n.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(t,i[u])&&(e[i[u]]=t[i[u]]);return e}function o(t,n,e,i){var u=arguments.length,a=u<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,e):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,n,e,i);else for(var y=t.length-1;y>=0;y--)(l=t[y])&&(a=(u<3?l(a):u>3?l(n,e,a):l(n,e))||a);return u>3&&a&&Object.defineProperty(n,e,a),a}function _(t,n){return function(e,i){n(e,i,t)}}function h(t,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,n)}function p(t,n,e,i){function u(a){return a instanceof e?a:new e(function(l){l(a)})}return new(e||(e=Promise))(function(a,l){function y(E){try{d(i.next(E))}catch(A){l(A)}}function T(E){try{d(i.throw(E))}catch(A){l(A)}}function d(E){E.done?a(E.value):u(E.value).then(y,T)}d((i=i.apply(t,n||[])).next())})}function f(t,n){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,u,a,l;return l={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function y(d){return function(E){return T([d,E])}}function T(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,u&&(a=d[0]&2?u.return:d[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,d[1])).done)return a;switch(u=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,u=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){e.label=d[1];break}if(d[0]===6&&e.label<a[1]){e.label=a[1],a=d;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(d);break}a[2]&&e.ops.pop(),e.trys.pop();continue}d=n.call(t,e)}catch(E){d=[6,E],u=0}finally{i=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var s=Object.create?function(t,n,e,i){i===void 0&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[e]}})}:function(t,n,e,i){i===void 0&&(i=e),t[i]=n[e]};function m(t,n){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(n,e)&&s(n,t,e)}function c(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var i=e.call(t),u,a=[],l;try{for(;(n===void 0||n-- >0)&&!(u=i.next()).done;)a.push(u.value)}catch(y){l={error:y}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(l)throw l.error}}return a}function U(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(I(arguments[n]));return t}function x(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var i=Array(t),u=0,n=0;n<e;n++)for(var a=arguments[n],l=0,y=a.length;l<y;l++,u++)i[u]=a[l];return i}function K(t,n){for(var e=0,i=n.length,u=t.length;e<i;e++,u++)t[u]=n[e];return t}function M(t){return this instanceof M?(this.v=t,this):new M(t)}function j(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(t,n||[]),u,a=[];return u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u;function l(C){i[C]&&(u[C]=function(b){return new Promise(function(z,G){a.push([C,b,z,G])>1||y(C,b)})})}function y(C,b){try{T(i[C](b))}catch(z){A(a[0][3],z)}}function T(C){C.value instanceof M?Promise.resolve(C.value.v).then(d,E):A(a[0][2],C)}function d(C){y("next",C)}function E(C){y("throw",C)}function A(C,b){C(b),a.shift(),a.length&&y(a[0][0],a[0][1])}}function L(t){var n,e;return n={},i("next"),i("throw",function(u){throw u}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(u,a){n[u]=t[u]?function(l){return(e=!e)?{value:M(t[u](l)),done:u==="return"}:a?a(l):l}:a}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof c=="function"?c(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(a){e[a]=t[a]&&function(l){return new Promise(function(y,T){l=t[a](l),u(y,T,l.done,l.value)})}}function u(a,l,y,T){Promise.resolve(T).then(function(d){a({value:d,done:y})},l)}}function H(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t}var V=Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n};function W(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&s(n,t,e);return V(n,t),n}function X(t){return t&&t.__esModule?t:{default:t}}function N(t,n){if(!n.has(t))throw new TypeError("attempted to get private field on non-instance");return n.get(t)}function O(t,n,e){if(!n.has(t))throw new TypeError("attempted to set private field on non-instance");return n.set(t,e),e}},758:function(R,P,g){"use strict";g.d(P,"a",function(){return h});var B=g(743),v=g(435),S=g(455),r=g(437),o=function(){function p(){}return p}(),_=function(){function p(){}return p}(),h=function(p){Object(B.a)(f,p);function f(s,m){var c=p.call(this,s,m)||this;return c.CustomParts=new _,c.customShaderNameResolve=c.Builder,c.FragmentShader=v.a.ShadersStore.defaultPixelShader,c.VertexShader=v.a.ShadersStore.defaultVertexShader,c}return f.prototype.AttachAfterBind=function(s,m){if(this._newUniformInstances)for(var c in this._newUniformInstances){var I=c.toString().split("-");I[0]=="vec2"?m.setVector2(I[1],this._newUniformInstances[c]):I[0]=="vec3"?m.setVector3(I[1],this._newUniformInstances[c]):I[0]=="vec4"?m.setVector4(I[1],this._newUniformInstances[c]):I[0]=="mat4"?m.setMatrix(I[1],this._newUniformInstances[c]):I[0]=="float"&&m.setFloat(I[1],this._newUniformInstances[c])}if(this._newSamplerInstances)for(var c in this._newSamplerInstances){var I=c.toString().split("-");I[0]=="sampler2D"&&this._newSamplerInstances[c].isReady&&this._newSamplerInstances[c].isReady()&&m.setTexture(I[1],this._newSamplerInstances[c])}},f.prototype.ReviewUniform=function(s,m){if(s=="uniform"&&this._newUniforms)for(var c=0;c<this._newUniforms.length;c++)this._customUniform[c].indexOf("sampler")==-1&&m.push(this._newUniforms[c]);if(s=="sampler"&&this._newUniforms)for(var c=0;c<this._newUniforms.length;c++)this._customUniform[c].indexOf("sampler")!=-1&&m.push(this._newUniforms[c]);return m},f.prototype.Builder=function(s,m,c,I,U,x){var K=this;if(x&&this._customAttributes&&this._customAttributes.length>0&&x.push.apply(x,this._customAttributes),this.ReviewUniform("uniform",m),this.ReviewUniform("sampler",I),this._isCreatedShader)return this._createdShaderName;this._isCreatedShader=!1,f.ShaderIndexer++;var M="custom_"+f.ShaderIndexer,j=this._afterBind.bind(this);return this._afterBind=function(L,w){if(!!w){K.AttachAfterBind(L,w);try{j(L,w)}catch(H){}}},v.a.ShadersStore[M+"VertexShader"]=this.VertexShader.replace("#define CUSTOM_VERTEX_BEGIN",this.CustomParts.Vertex_Begin?this.CustomParts.Vertex_Begin:"").replace("#define CUSTOM_VERTEX_DEFINITIONS",(this._customUniform?this._customUniform.join(`
`):"")+(this.CustomParts.Vertex_Definitions?this.CustomParts.Vertex_Definitions:"")).replace("#define CUSTOM_VERTEX_MAIN_BEGIN",this.CustomParts.Vertex_MainBegin?this.CustomParts.Vertex_MainBegin:"").replace("#define CUSTOM_VERTEX_UPDATE_POSITION",this.CustomParts.Vertex_Before_PositionUpdated?this.CustomParts.Vertex_Before_PositionUpdated:"").replace("#define CUSTOM_VERTEX_UPDATE_NORMAL",this.CustomParts.Vertex_Before_NormalUpdated?this.CustomParts.Vertex_Before_NormalUpdated:"").replace("#define CUSTOM_VERTEX_MAIN_END",this.CustomParts.Vertex_MainEnd?this.CustomParts.Vertex_MainEnd:""),this.CustomParts.Vertex_After_WorldPosComputed&&(v.a.ShadersStore[M+"VertexShader"]=v.a.ShadersStore[M+"VertexShader"].replace("#define CUSTOM_VERTEX_UPDATE_WORLDPOS",this.CustomParts.Vertex_After_WorldPosComputed)),v.a.ShadersStore[M+"PixelShader"]=this.FragmentShader.replace("#define CUSTOM_FRAGMENT_BEGIN",this.CustomParts.Fragment_Begin?this.CustomParts.Fragment_Begin:"").replace("#define CUSTOM_FRAGMENT_MAIN_BEGIN",this.CustomParts.Fragment_MainBegin?this.CustomParts.Fragment_MainBegin:"").replace("#define CUSTOM_FRAGMENT_DEFINITIONS",(this._customUniform?this._customUniform.join(`
`):"")+(this.CustomParts.Fragment_Definitions?this.CustomParts.Fragment_Definitions:"")).replace("#define CUSTOM_FRAGMENT_UPDATE_DIFFUSE",this.CustomParts.Fragment_Custom_Diffuse?this.CustomParts.Fragment_Custom_Diffuse:"").replace("#define CUSTOM_FRAGMENT_UPDATE_ALPHA",this.CustomParts.Fragment_Custom_Alpha?this.CustomParts.Fragment_Custom_Alpha:"").replace("#define CUSTOM_FRAGMENT_BEFORE_LIGHTS",this.CustomParts.Fragment_Before_Lights?this.CustomParts.Fragment_Before_Lights:"").replace("#define CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR",this.CustomParts.Fragment_Before_FragColor?this.CustomParts.Fragment_Before_FragColor:""),this.CustomParts.Fragment_Before_Fog&&(v.a.ShadersStore[M+"PixelShader"]=v.a.ShadersStore[M+"PixelShader"].replace("#define CUSTOM_FRAGMENT_BEFORE_FOG",this.CustomParts.Fragment_Before_Fog)),this._isCreatedShader=!0,this._createdShaderName=M,M},f.prototype.AddUniform=function(s,m,c){return this._customUniform||(this._customUniform=new Array,this._newUniforms=new Array,this._newSamplerInstances={},this._newUniformInstances={}),c&&(m.indexOf("sampler")!=-1?this._newSamplerInstances[m+"-"+s]=c:this._newUniformInstances[m+"-"+s]=c),this._customUniform.push("uniform "+m+" "+s+";"),this._newUniforms.push(s),this},f.prototype.AddAttribute=function(s){return this._customAttributes||(this._customAttributes=[]),this._customAttributes.push(s),this},f.prototype.Fragment_Begin=function(s){return this.CustomParts.Fragment_Begin=s,this},f.prototype.Fragment_Definitions=function(s){return this.CustomParts.Fragment_Definitions=s,this},f.prototype.Fragment_MainBegin=function(s){return this.CustomParts.Fragment_MainBegin=s,this},f.prototype.Fragment_Custom_Diffuse=function(s){return this.CustomParts.Fragment_Custom_Diffuse=s.replace("result","diffuseColor"),this},f.prototype.Fragment_Custom_Alpha=function(s){return this.CustomParts.Fragment_Custom_Alpha=s.replace("result","alpha"),this},f.prototype.Fragment_Before_Lights=function(s){return this.CustomParts.Fragment_Before_Lights=s,this},f.prototype.Fragment_Before_Fog=function(s){return this.CustomParts.Fragment_Before_Fog=s,this},f.prototype.Fragment_Before_FragColor=function(s){return this.CustomParts.Fragment_Before_FragColor=s.replace("result","color"),this},f.prototype.Vertex_Begin=function(s){return this.CustomParts.Vertex_Begin=s,this},f.prototype.Vertex_Definitions=function(s){return this.CustomParts.Vertex_Definitions=s,this},f.prototype.Vertex_MainBegin=function(s){return this.CustomParts.Vertex_MainBegin=s,this},f.prototype.Vertex_Before_PositionUpdated=function(s){return this.CustomParts.Vertex_Before_PositionUpdated=s.replace("result","positionUpdated"),this},f.prototype.Vertex_Before_NormalUpdated=function(s){return this.CustomParts.Vertex_Before_NormalUpdated=s.replace("result","normalUpdated"),this},f.prototype.Vertex_After_WorldPosComputed=function(s){return this.CustomParts.Vertex_After_WorldPosComputed=s,this},f.prototype.Vertex_MainEnd=function(s){return this.CustomParts.Vertex_MainEnd=s,this},f.ShaderIndexer=1,f}(S.a);r.a.RegisteredTypes["BABYLON.CustomMaterial"]=h},88:function(R,P,g){"use strict";g.r(P);var B=g(445),v=g(449),S=g(498),r=g(555),o=g(475),_=g(758),h=g(441),p=g(506),f=g(648),s=g(446),m=g(549),c=g(341),I=g(342),U=Object.assign,x=(j,L,w)=>new Promise((H,V)=>{var W=O=>{try{N(w.next(O))}catch(t){V(t)}},X=O=>{try{N(w.throw(O))}catch(t){V(t)}},N=O=>O.done?H(O.value):Promise.resolve(O.value).then(W,X);N((w=w.apply(j,L)).next())});const K={animate:!0,context:Object(m.a)()},M=j=>x(void 0,[j],function*({canvas:L,width:w,height:H}){const V=new B.a(L,!0),W=10,X=500,N=.05,O=.5,t=21,n=(t+1)*(t+1),e=new h.a(16/255,22/255,26/255),i=new h.a(245/255,248/255,250/255),u=+new Date,a=new v.a(V);a.clearColor=h.b.FromColor3(e);const l=new p.a("camera",-Math.PI/2,Math.PI/2,-0,new o.z(0,0,0),a);l.minZ=.1,l.fov=1.15;const y=new S.a("hemiLight",new o.z(-1,1,0),a);y.diffuse=new h.a(1,1,1),y.groundColor=new h.a(1,1,1);const T=new _.a("tubeMaterial",a);T.specularColor=new h.a(0,0,0),T.emissiveColor=new h.a(.1,.1,.1),T.freeze();const d=new _.a("tubeMaterial",a);d.diffuseColor=i,d.specularColor=new h.a(0,0,0);const E=new _.a("tubeMaterial",a);E.diffuseColor=e,E.specularColor=new h.a(0,0,0);const A=[];for(let D=0;D<W;D+=W/X)A.push(new o.z(0,0,D-1));const C={path:A,tessellation:32,radius:N,cap:s.a.DOUBLESIDE,scene:a,updatable:!1},b=f.a.CreateTube("tube",U(U({},C),{sideOrientation:s.a.BACKSIDE}));b.material=d;const z=f.a.CreateTube("tube",U(U({},C),{sideOrientation:s.a.FRONTSIDE}));z.material=E;const G=new Float32Array(16*n);let Y=0;for(let D=-t/2;D<=t/2;D+=1)for(let F=-t/2;F<=t/2;F+=1)o.k.Translation(F*O,D*O,0).copyToArray(G,16*Y),Y+=1;return b.thinInstanceSetBuffer("matrix",G,16),z.thinInstanceSetBuffer("matrix",G,16),d.Vertex_Before_PositionUpdated(c.default),E.Vertex_Before_PositionUpdated(I.default),[E,d].forEach(D=>{D.AddUniform("iTime","float"),D.AddUniform("factor","float"),D.AddUniform("speed","float"),D.AddUniform("radius","float"),D.AddUniform("swingSize","float"),D.onBind=()=>{const F=(+new Date-u)*.001;D.getEffect().setFloat("iTime",F),D.getEffect().setFloat("factor",1),D.getEffect().setFloat("speed",5),D.getEffect().setFloat("radius",N),D.getEffect().setFloat("swingSize",.15)}}),window.addEventListener("mousewheel",D=>{const F=Math.sign(D.wheelDelta)*-1;l.fov+=F*.05,l.fov=Math.max(Math.min(l.fov,1.2),.25)}),{render({time:D,width:F,height:Z}){a.render()},resize({pixelRatio:D,width:F,height:Z}){V.resize()},unload(){V.dispose()}}});P.default={sketch:M,settings:K}}}]);
