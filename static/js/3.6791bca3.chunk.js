(this.webpackJsonpgenerative=this.webpackJsonpgenerative||[]).push([[3],{470:function(aa,$,g){"use strict";g.d($,"a",function(){return R});var e=g(436),z=g(446),S=g(485);S.a.CreateSphere=function(r){for(var o=r.segments||32,h=r.diameterX||r.diameter||1,a=r.diameterY||r.diameter||1,f=r.diameterZ||r.diameter||1,O=r.arc&&(r.arc<=0||r.arc>1)?1:r.arc||1,t=r.slice&&r.slice<=0?1:r.slice||1,E=r.sideOrientation===0?0:r.sideOrientation||S.a.DEFAULTSIDE,c=!!r.dedupTopBottomIndices,m=new e.e(h/2,a/2,f/2),v=2+o,n=2*v,l=[],_=[],i=[],P=[],W=0;W<=v;W++){for(var A=W/v,T=A*Math.PI*t,d=0;d<=n;d++){var u=d/n,s=u*Math.PI*2*O,D=e.a.RotationZ(-T),x=e.a.RotationY(s),w=e.e.TransformCoordinates(e.e.Up(),D),M=e.e.TransformCoordinates(w,x),U=M.multiply(m),L=M.divide(m).normalize();_.push(U.x,U.y,U.z),i.push(L.x,L.y,L.z),P.push(u,A)}if(W>0)for(var K=_.length/3,H=K-2*(n+1);H+n+2<K;H++)c?(W>1&&(l.push(H),l.push(H+1),l.push(H+n+1)),(W<v||t<1)&&(l.push(H+n+1),l.push(H+1),l.push(H+n+2))):(l.push(H),l.push(H+1),l.push(H+n+1),l.push(H+n+1),l.push(H+1),l.push(H+n+2))}S.a._ComputeSides(E,_,l,i,P,r.frontUVs,r.backUVs);var b=new S.a;return b.indices=l,b.positions=_,b.normals=i,b.uvs=P,b},z.a.CreateSphere=function(r,o,h,a,f,O){var t={segments:o,diameterX:h,diameterY:h,diameterZ:h,sideOrientation:O,updatable:f};return R.CreateSphere(r,t,a)};var R=function(){function r(){}return r.CreateSphere=function(o,h,a){a===void 0&&(a=null);var f=new z.a(o,a);h.sideOrientation=z.a._GetDefaultSideOrientation(h.sideOrientation),f._originalBuilderSideOrientation=h.sideOrientation;var O=S.a.CreateSphere(h);return O.applyToMesh(f,h.updatable),f},r}()},494:function(aa,$,g){"use strict";g.d($,"a",function(){return h});var e=g(436),z=g(441),S=g(446),R=g(485),r=g(449),o=g(465);R.a.CreateCylinder=function(a){var f=a.height||2,O=a.diameterTop===0?0:a.diameterTop||a.diameter||1,t=a.diameterBottom===0?0:a.diameterBottom||a.diameter||1;O=O||1e-5,t=t||1e-5;var E=a.tessellation||24,c=a.subdivisions||1,m=!!a.hasRings,v=!!a.enclose,n=a.cap===0?0:a.cap||S.a.CAP_ALL,l=a.arc&&(a.arc<=0||a.arc>1)?1:a.arc||1,_=a.sideOrientation===0?0:a.sideOrientation||R.a.DEFAULTSIDE,i=a.faceUV||new Array(3),P=a.faceColors,W=l!==1&&v?2:0,A=m?c:1,T=2+(1+W)*A,d;for(d=0;d<T;d++)P&&P[d]===void 0&&(P[d]=new z.b(1,1,1,1));for(d=0;d<T;d++)i&&i[d]===void 0&&(i[d]=new e.f(0,0,1,1));var u=new Array,s=new Array,D=new Array,x=new Array,w=new Array,M=Math.PI*2*l/E,U,L,K,H=(t-O)/2/f,b=e.e.Zero(),F=e.e.Zero(),X=e.e.Zero(),C=e.e.Zero(),y=e.e.Zero(),B=o.a.Y,I,G,Z,j=1,N=1,V=0,Q=0;for(I=0;I<=c;I++)for(L=I/c,K=(L*(O-t)+t)/2,j=m&&I!==0&&I!==c?2:1,Z=0;Z<j;Z++){for(m&&(N+=Z),v&&(N+=2*Z),G=0;G<=E;G++)U=G*M,b.x=Math.cos(-U)*K,b.y=-f/2+L*f,b.z=Math.sin(-U)*K,O===0&&I===c?(F.x=D[D.length-(E+1)*3],F.y=D[D.length-(E+1)*3+1],F.z=D[D.length-(E+1)*3+2]):(F.x=b.x,F.z=b.z,F.y=Math.sqrt(F.x*F.x+F.z*F.z)*H,F.normalize()),G===0&&(X.copyFrom(b),C.copyFrom(F)),s.push(b.x,b.y,b.z),D.push(F.x,F.y,F.z),m?Q=V!==N?i[N].y:i[N].w:Q=i[N].y+(i[N].w-i[N].y)*L,x.push(i[N].x+(i[N].z-i[N].x)*G/E,Q),P&&w.push(P[N].r,P[N].g,P[N].b,P[N].a);l!==1&&v&&(s.push(b.x,b.y,b.z),s.push(0,b.y,0),s.push(0,b.y,0),s.push(X.x,X.y,X.z),e.e.CrossToRef(B,F,y),y.normalize(),D.push(y.x,y.y,y.z,y.x,y.y,y.z),e.e.CrossToRef(C,B,y),y.normalize(),D.push(y.x,y.y,y.z,y.x,y.y,y.z),m?Q=V!==N?i[N+1].y:i[N+1].w:Q=i[N+1].y+(i[N+1].w-i[N+1].y)*L,x.push(i[N+1].x,Q),x.push(i[N+1].z,Q),m?Q=V!==N?i[N+2].y:i[N+2].w:Q=i[N+2].y+(i[N+2].w-i[N+2].y)*L,x.push(i[N+2].x,Q),x.push(i[N+2].z,Q),P&&(w.push(P[N+1].r,P[N+1].g,P[N+1].b,P[N+1].a),w.push(P[N+1].r,P[N+1].g,P[N+1].b,P[N+1].a),w.push(P[N+2].r,P[N+2].g,P[N+2].b,P[N+2].a),w.push(P[N+2].r,P[N+2].g,P[N+2].b,P[N+2].a))),V!==N&&(V=N)}var J=l!==1&&v?E+4:E,N;for(I=0,N=0;N<c;N++){var p=0,Y=0,k=0,ta=0;for(G=0;G<E;G++)p=I*(J+1)+G,Y=(I+1)*(J+1)+G,k=I*(J+1)+(G+1),ta=(I+1)*(J+1)+(G+1),u.push(p,Y,k),u.push(ta,k,Y);l!==1&&v&&(u.push(p+2,Y+2,k+2),u.push(ta+2,k+2,Y+2),u.push(p+4,Y+4,k+4),u.push(ta+4,k+4,Y+4)),I=m?I+2:I+1}var sa=function(q){var ea=q?O/2:t/2;if(ea!==0){var va,la,na,ia=q?i[T-1]:i[0],ua=null;P&&(ua=q?P[T-1]:P[0]);var ha=s.length/3,fa=q?f/2:-f/2,oa=new e.e(0,fa,0);s.push(oa.x,oa.y,oa.z),D.push(0,q?1:-1,0),x.push(ia.x+(ia.z-ia.x)*.5,ia.y+(ia.w-ia.y)*.5),ua&&w.push(ua.r,ua.g,ua.b,ua.a);var da=new e.d(.5,.5);for(na=0;na<=E;na++){va=Math.PI*2*na*l/E;var _a=Math.cos(-va),Ea=Math.sin(-va);la=new e.e(_a*ea,fa,Ea*ea);var ca=new e.d(_a*da.x+.5,Ea*da.y+.5);s.push(la.x,la.y,la.z),D.push(0,q?1:-1,0),x.push(ia.x+(ia.z-ia.x)*ca.x,ia.y+(ia.w-ia.y)*ca.y),ua&&w.push(ua.r,ua.g,ua.b,ua.a)}for(na=0;na<E;na++)q?(u.push(ha),u.push(ha+(na+2)),u.push(ha+(na+1))):(u.push(ha),u.push(ha+(na+1)),u.push(ha+(na+2)))}};(n===S.a.CAP_START||n===S.a.CAP_ALL)&&sa(!1),(n===S.a.CAP_END||n===S.a.CAP_ALL)&&sa(!0),R.a._ComputeSides(_,s,u,D,x,a.frontUVs,a.backUVs);var ra=new R.a;return ra.indices=u,ra.positions=s,ra.normals=D,ra.uvs=x,P&&(ra.colors=w),ra},S.a.CreateCylinder=function(a,f,O,t,E,c,m,v,n){(m===void 0||!(m instanceof r.a))&&(m!==void 0&&(n=v||S.a.DEFAULTSIDE,v=m),m=c,c=1);var l={height:f,diameterTop:O,diameterBottom:t,tessellation:E,subdivisions:c,sideOrientation:n,updatable:v};return h.CreateCylinder(a,l,m)};var h=function(){function a(){}return a.CreateCylinder=function(f,O,t){var E=new S.a(f,t);O.sideOrientation=S.a._GetDefaultSideOrientation(O.sideOrientation),E._originalBuilderSideOrientation=O.sideOrientation;var c=R.a.CreateCylinder(O);return c.applyToMesh(E,O.updatable),E},a}()},495:function(aa,$,g){"use strict";g.d($,"a",function(){return r});var e=g(436),z=g(441),S=g(446),R=g(485);R.a.CreateBox=function(o){var h=6,a=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],f=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0],O=[],t=[],E=o.width||o.size||1,c=o.height||o.size||1,m=o.depth||o.size||1,v=o.wrap||!1,n=o.topBaseAt===void 0?1:o.topBaseAt,l=o.bottomBaseAt===void 0?0:o.bottomBaseAt;n=(n+4)%4,l=(l+4)%4;var _=[2,0,3,1],i=[2,0,1,3],P=_[n],W=i[l],A=[1,-1,1,-1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,-1,1,-1,1,1,1,1,-1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,1];if(v){a=[2,3,0,2,0,1,4,5,6,4,6,7,9,10,11,9,11,8,12,14,15,12,13,14],A=[-1,1,1,1,1,1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,1,1,1,-1,1,-1,-1,1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1];for(var T=[[1,1,1],[-1,1,1],[-1,1,-1],[1,1,-1]],d=[[-1,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1]],u=[17,18,19,16],s=[22,23,20,21];P>0;)T.unshift(T.pop()),u.unshift(u.pop()),P--;for(;W>0;)d.unshift(d.pop()),s.unshift(s.pop()),W--;T=T.flat(),d=d.flat(),A=A.concat(T).concat(d),a.push(u[0],u[2],u[3],u[0],u[1],u[2]),a.push(s[0],s[2],s[3],s[0],s[1],s[2])}var D=[E/2,c/2,m/2];t=A.reduce(function(X,C,y){return X.concat(C*D[y%3])},[]);for(var x=o.sideOrientation===0?0:o.sideOrientation||R.a.DEFAULTSIDE,w=o.faceUV||new Array(6),M=o.faceColors,U=[],L=0;L<6;L++)w[L]===void 0&&(w[L]=new e.f(0,0,1,1)),M&&M[L]===void 0&&(M[L]=new z.b(1,1,1,1));for(var K=0;K<h;K++)if(O.push(w[K].z,w[K].w),O.push(w[K].x,w[K].w),O.push(w[K].x,w[K].y),O.push(w[K].z,w[K].y),M)for(var H=0;H<4;H++)U.push(M[K].r,M[K].g,M[K].b,M[K].a);R.a._ComputeSides(x,t,a,f,O,o.frontUVs,o.backUVs);var b=new R.a;if(b.indices=a,b.positions=t,b.normals=f,b.uvs=O,M){var F=x===R.a.DOUBLESIDE?U.concat(U):U;b.colors=F}return b},S.a.CreateBox=function(o,h,a,f,O){a===void 0&&(a=null);var t={size:h,sideOrientation:O,updatable:f};return r.CreateBox(o,t,a)};var r=function(){function o(){}return o.CreateBox=function(h,a,f){f===void 0&&(f=null);var O=new S.a(h,f);a.sideOrientation=S.a._GetDefaultSideOrientation(a.sideOrientation),O._originalBuilderSideOrientation=a.sideOrientation;var t=R.a.CreateBox(a);return t.applyToMesh(O,a.updatable),O},o}()},526:function(aa,$,g){"use strict";g.d($,"a",function(){return S});var e=g(446),z=g(485);z.a.CreatePlane=function(R){var r=[],o=[],h=[],a=[],f=R.width||R.size||1,O=R.height||R.size||1,t=R.sideOrientation===0?0:R.sideOrientation||z.a.DEFAULTSIDE,E=f/2,c=O/2;o.push(-E,-c,0),h.push(0,0,-1),a.push(0,0),o.push(E,-c,0),h.push(0,0,-1),a.push(1,0),o.push(E,c,0),h.push(0,0,-1),a.push(1,1),o.push(-E,c,0),h.push(0,0,-1),a.push(0,1),r.push(0),r.push(1),r.push(2),r.push(0),r.push(2),r.push(3),z.a._ComputeSides(t,o,r,h,a,R.frontUVs,R.backUVs);var m=new z.a;return m.indices=r,m.positions=o,m.normals=h,m.uvs=a,m},e.a.CreatePlane=function(R,r,o,h,a){var f={size:r,width:r,height:r,sideOrientation:a,updatable:h};return S.CreatePlane(R,f,o)};var S=function(){function R(){}return R.CreatePlane=function(r,o,h){h===void 0&&(h=null);var a=new e.a(r,h);o.sideOrientation=e.a._GetDefaultSideOrientation(o.sideOrientation),a._originalBuilderSideOrientation=o.sideOrientation;var f=z.a.CreatePlane(o);return f.applyToMesh(a,o.updatable),o.sourcePlane&&(a.translate(o.sourcePlane.normal,-o.sourcePlane.d),a.setDirection(o.sourcePlane.normal.scale(-1))),a},R}()},564:function(aa,$,g){"use strict";g.d($,"a",function(){return R});var e=g(436),z=g(446),S=g(485);S.a.CreateTorus=function(r){for(var o=[],h=[],a=[],f=[],O=r.diameter||1,t=r.thickness||.5,E=r.tessellation||16,c=r.sideOrientation===0?0:r.sideOrientation||S.a.DEFAULTSIDE,m=E+1,v=0;v<=E;v++)for(var n=v/E,l=v*Math.PI*2/E-Math.PI/2,_=e.a.Translation(O/2,0,0).multiply(e.a.RotationY(l)),i=0;i<=E;i++){var P=1-i/E,W=i*Math.PI*2/E+Math.PI,A=Math.cos(W),T=Math.sin(W),d=new e.e(A,T,0),u=d.scale(t/2),s=new e.d(n,P);u=e.e.TransformCoordinates(u,_),d=e.e.TransformNormal(d,_),h.push(u.x,u.y,u.z),a.push(d.x,d.y,d.z),f.push(s.x,s.y);var D=(v+1)%m,x=(i+1)%m;o.push(v*m+i),o.push(v*m+x),o.push(D*m+i),o.push(v*m+x),o.push(D*m+x),o.push(D*m+i)}S.a._ComputeSides(c,h,o,a,f,r.frontUVs,r.backUVs);var w=new S.a;return w.indices=o,w.positions=h,w.normals=a,w.uvs=f,w},z.a.CreateTorus=function(r,o,h,a,f,O,t){var E={diameter:o,thickness:h,tessellation:a,sideOrientation:t,updatable:O};return R.CreateTorus(r,E,f)};var R=function(){function r(){}return r.CreateTorus=function(o,h,a){var f=new z.a(o,a);h.sideOrientation=z.a._GetDefaultSideOrientation(h.sideOrientation),f._originalBuilderSideOrientation=h.sideOrientation;var O=S.a.CreateTorus(h);return O.applyToMesh(f,h.updatable),f},r}()},624:function(aa,$,g){"use strict";g.d($,"a",function(){return O});var e=g(436),z=g(441),S=g(446),R=g(485),r=g(730),o=g(443),h=g(448),a=g(515),f=g(596);R.a.CreateGround=function(t){var E=[],c=[],m=[],v=[],n,l,_=t.width||1,i=t.height||1,P=t.subdivisionsX||t.subdivisions||1,W=t.subdivisionsY||t.subdivisions||1;for(n=0;n<=W;n++)for(l=0;l<=P;l++){var A=new e.e(l*_/P-_/2,0,(W-n)*i/W-i/2),T=new e.e(0,1,0);c.push(A.x,A.y,A.z),m.push(T.x,T.y,T.z),v.push(l/P,1-n/W)}for(n=0;n<W;n++)for(l=0;l<P;l++)E.push(l+1+(n+1)*(P+1)),E.push(l+1+n*(P+1)),E.push(l+n*(P+1)),E.push(l+(n+1)*(P+1)),E.push(l+1+(n+1)*(P+1)),E.push(l+n*(P+1));var d=new R.a;return d.indices=E,d.positions=c,d.normals=m,d.uvs=v,d},R.a.CreateTiledGround=function(t){var E=t.xmin!==void 0&&t.xmin!==null?t.xmin:-1,c=t.zmin!==void 0&&t.zmin!==null?t.zmin:-1,m=t.xmax!==void 0&&t.xmax!==null?t.xmax:1,v=t.zmax!==void 0&&t.zmax!==null?t.zmax:1,n=t.subdivisions||{w:1,h:1},l=t.precision||{w:1,h:1},_=new Array,i=new Array,P=new Array,W=new Array,A,T,d,u;n.h=n.h<1?1:n.h,n.w=n.w<1?1:n.w,l.w=l.w<1?1:l.w,l.h=l.h<1?1:l.h;var s={w:(m-E)/n.w,h:(v-c)/n.h};function D(w,M,U,L){var K=i.length/3,H=l.w+1;for(A=0;A<l.h;A++)for(T=0;T<l.w;T++){var b=[K+T+A*H,K+(T+1)+A*H,K+(T+1)+(A+1)*H,K+T+(A+1)*H];_.push(b[1]),_.push(b[2]),_.push(b[3]),_.push(b[0]),_.push(b[1]),_.push(b[3])}var F=e.e.Zero(),X=new e.e(0,1,0);for(A=0;A<=l.h;A++)for(F.z=A*(L-M)/l.h+M,T=0;T<=l.w;T++)F.x=T*(U-w)/l.w+w,F.y=0,i.push(F.x,F.y,F.z),P.push(X.x,X.y,X.z),W.push(T/l.w,A/l.h)}for(d=0;d<n.h;d++)for(u=0;u<n.w;u++)D(E+u*s.w,c+d*s.h,E+(u+1)*s.w,c+(d+1)*s.h);var x=new R.a;return x.indices=_,x.positions=i,x.normals=P,x.uvs=W,x},R.a.CreateGroundFromHeightMap=function(t){var E=[],c=[],m=[],v=[],n,l,_=t.colorFilter||new z.a(.3,.59,.11),i=t.alphaFilter||0,P=!1;if(t.minHeight>t.maxHeight){P=!0;var W=t.maxHeight;t.maxHeight=t.minHeight,t.minHeight=W}for(n=0;n<=t.subdivisions;n++)for(l=0;l<=t.subdivisions;l++){var A=new e.e(l*t.width/t.subdivisions-t.width/2,0,(t.subdivisions-n)*t.height/t.subdivisions-t.height/2),T=(A.x+t.width/2)/t.width*(t.bufferWidth-1)|0,d=(1-(A.z+t.height/2)/t.height)*(t.bufferHeight-1)|0,u=(T+d*t.bufferWidth)*4,s=t.buffer[u]/255,D=t.buffer[u+1]/255,x=t.buffer[u+2]/255,w=t.buffer[u+3]/255;P&&(s=1-s,D=1-D,x=1-x);var M=s*_.r+D*_.g+x*_.b;w>=i?A.y=t.minHeight+(t.maxHeight-t.minHeight)*M:A.y=t.minHeight-a.a,c.push(A.x,A.y,A.z),m.push(0,0,0),v.push(l/t.subdivisions,1-n/t.subdivisions)}for(n=0;n<t.subdivisions;n++)for(l=0;l<t.subdivisions;l++){var U=l+1+(n+1)*(t.subdivisions+1),L=l+1+n*(t.subdivisions+1),K=l+n*(t.subdivisions+1),H=l+(n+1)*(t.subdivisions+1),b=c[U*3+1]>=t.minHeight,F=c[L*3+1]>=t.minHeight,X=c[K*3+1]>=t.minHeight;b&&F&&X&&(E.push(U),E.push(L),E.push(K));var C=c[H*3+1]>=t.minHeight;C&&b&&X&&(E.push(H),E.push(U),E.push(K))}R.a.ComputeNormals(c,E,m);var y=new R.a;return y.indices=E,y.positions=c,y.normals=m,y.uvs=v,y},S.a.CreateGround=function(t,E,c,m,v,n){var l={width:E,height:c,subdivisions:m,updatable:n};return O.CreateGround(t,l,v)},S.a.CreateTiledGround=function(t,E,c,m,v,n,l,_,i){var P={xmin:E,zmin:c,xmax:m,zmax:v,subdivisions:n,precision:l,updatable:i};return O.CreateTiledGround(t,P,_)},S.a.CreateGroundFromHeightMap=function(t,E,c,m,v,n,l,_,i,P,W){var A={width:c,height:m,subdivisions:v,minHeight:n,maxHeight:l,updatable:i,onReady:P,alphaFilter:W};return O.CreateGroundFromHeightMap(t,E,A,_)};var O=function(){function t(){}return t.CreateGround=function(E,c,m){var v=new r.a(E,m);v._setReady(!1),v._subdivisionsX=c.subdivisionsX||c.subdivisions||1,v._subdivisionsY=c.subdivisionsY||c.subdivisions||1,v._width=c.width||1,v._height=c.height||1,v._maxX=v._width/2,v._maxZ=v._height/2,v._minX=-v._maxX,v._minZ=-v._maxZ;var n=R.a.CreateGround(c);return n.applyToMesh(v,c.updatable),v._setReady(!0),v},t.CreateTiledGround=function(E,c,m){m===void 0&&(m=null);var v=new S.a(E,m),n=R.a.CreateTiledGround(c);return n.applyToMesh(v,c.updatable),v},t.CreateGroundFromHeightMap=function(E,c,m,v){v===void 0&&(v=null);var n=m.width||10,l=m.height||10,_=m.subdivisions||1|0,i=m.minHeight||0,P=m.maxHeight||1,W=m.colorFilter||new z.a(.3,.59,.11),A=m.alphaFilter||0,T=m.updatable,d=m.onReady;v=v||h.a.LastCreatedScene;var u=new r.a(E,v);u._subdivisionsX=_,u._subdivisionsY=_,u._width=n,u._height=l,u._maxX=u._width/2,u._maxZ=u._height/2,u._minX=-u._maxX,u._minZ=-u._maxZ,u._setReady(!1);var s=function(D){var x=D.width,w=D.height,M=f.a.CreateCanvas(x,w),U=M.getContext("2d");if(!U)throw new Error("Unable to get 2d context for CreateGroundFromHeightMap");if(!v.isDisposed){U.drawImage(D,0,0);var L=U.getImageData(0,0,x,w).data,K=R.a.CreateGroundFromHeightMap({width:n,height:l,subdivisions:_,minHeight:i,maxHeight:P,colorFilter:W,buffer:L,bufferWidth:x,bufferHeight:w,alphaFilter:A});K.applyToMesh(u,T),d&&d(u),u._setReady(!0)}};return o.b.LoadImage(c,s,function(){},v.offlineProvider),u},t}()},636:function(aa,$,g){"use strict";g.d($,"a",function(){return R});var e=g(436),z=g(446),S=g(485);S.a.CreateIcoSphere=function(r){var o=r.sideOrientation||S.a.DEFAULTSIDE,h=r.radius||1,a=r.flat===void 0?!0:r.flat,f=r.subdivisions||4,O=r.radiusX||h,t=r.radiusY||h,E=r.radiusZ||h,c=(1+Math.sqrt(5))/2,m=[-1,c,-0,1,c,0,-1,-c,0,1,-c,0,0,-1,-c,0,1,-c,0,-1,c,0,1,c,c,0,1,c,0,-1,-c,0,1,-c,0,-1],v=[0,11,5,0,5,1,0,1,7,0,7,10,12,22,23,1,5,20,5,11,4,23,22,13,22,18,6,7,1,8,14,21,4,14,4,2,16,13,6,15,6,19,3,8,9,4,21,5,13,17,23,6,13,22,19,6,18,9,8,1],n=[0,1,2,3,4,5,6,7,8,9,10,11,0,2,3,3,3,4,7,8,9,9,10,11],l=[5,1,3,1,6,4,0,0,5,3,4,2,2,2,4,0,2,0,1,1,6,0,6,2,0,4,3,3,4,4,3,1,4,2,4,4,0,2,1,1,2,2,3,3,1,3,2,4],_=138/1024,i=239/1024,P=60/1024,W=26/1024,A=-40/1024,T=20/1024,d=[0,0,0,0,1,0,0,1,1,0,0,0,1,1,0,0,1,1,1,0],u=new Array,s=new Array,D=new Array,x=new Array,w=0,M=new Array(3),U=new Array(3),L;for(L=0;L<3;L++)M[L]=e.e.Zero(),U[L]=e.d.Zero();for(var K=0;K<20;K++){for(L=0;L<3;L++){var H=v[3*K+L];M[L].copyFromFloats(m[3*n[H]],m[3*n[H]+1],m[3*n[H]+2]),M[L].normalize().scaleInPlace(h),U[L].copyFromFloats(l[2*H]*_+P+d[K]*A,l[2*H+1]*i+W+d[K]*T)}for(var b=function(y,B,I,G){var Z=e.e.Lerp(M[0],M[2],B/f),j=e.e.Lerp(M[1],M[2],B/f),N=f===B?M[2]:e.e.Lerp(Z,j,y/(f-B));N.normalize();var V;if(a){var Q=e.e.Lerp(M[0],M[2],G/f),J=e.e.Lerp(M[1],M[2],G/f);V=e.e.Lerp(Q,J,I/(f-G))}else V=new e.e(N.x,N.y,N.z);V.x/=O,V.y/=t,V.z/=E,V.normalize();var p=e.d.Lerp(U[0],U[2],B/f),Y=e.d.Lerp(U[1],U[2],B/f),k=f===B?U[2]:e.d.Lerp(p,Y,y/(f-B));s.push(N.x*O,N.y*t,N.z*E),D.push(V.x,V.y,V.z),x.push(k.x,k.y),u.push(w),w++},F=0;F<f;F++)for(var X=0;X+F<f;X++)b(X,F,X+1/3,F+1/3),b(X+1,F,X+1/3,F+1/3),b(X,F+1,X+1/3,F+1/3),X+F+1<f&&(b(X+1,F,X+2/3,F+2/3),b(X+1,F+1,X+2/3,F+2/3),b(X,F+1,X+2/3,F+2/3))}S.a._ComputeSides(o,s,u,D,x,r.frontUVs,r.backUVs);var C=new S.a;return C.indices=u,C.positions=s,C.normals=D,C.uvs=x,C},z.a.CreateIcoSphere=function(r,o,h){return R.CreateIcoSphere(r,o,h)};var R=function(){function r(){}return r.CreateIcoSphere=function(o,h,a){a===void 0&&(a=null);var f=new z.a(o,a);h.sideOrientation=z.a._GetDefaultSideOrientation(h.sideOrientation),f._originalBuilderSideOrientation=h.sideOrientation;var O=S.a.CreateIcoSphere(h);return O.applyToMesh(f,h.updatable),f},r}()},648:function(aa,$,g){"use strict";g.d($,"a",function(){return A});var e=g(706),z=g(697),S=g(495),R=g(734),r=g(470),o=g(494),h=g(564),a=g(735),f=g(493),O=g(736),t=g(617),E=g(738),c=g(526),m=g(739),v=g(624),n=g(740),l=g(693),_=g(636),i=g(741),P=g(742),W=g(436),A=function(){function T(){}return T.CreateBox=function(d,u,s){return s===void 0&&(s=null),S.a.CreateBox(d,u,s)},T.CreateTiledBox=function(d,u,s){return s===void 0&&(s=null),R.a.CreateTiledBox(d,u,s)},T.CreateSphere=function(d,u,s){return s===void 0&&(s=null),r.a.CreateSphere(d,u,s)},T.CreateDisc=function(d,u,s){return s===void 0&&(s=null),z.a.CreateDisc(d,u,s)},T.CreateIcoSphere=function(d,u,s){return s===void 0&&(s=null),_.a.CreateIcoSphere(d,u,s)},T.CreateRibbon=function(d,u,s){return s===void 0&&(s=null),e.a.CreateRibbon(d,u,s)},T.CreateCylinder=function(d,u,s){return s===void 0&&(s=null),o.a.CreateCylinder(d,u,s)},T.CreateTorus=function(d,u,s){return s===void 0&&(s=null),h.a.CreateTorus(d,u,s)},T.CreateTorusKnot=function(d,u,s){return s===void 0&&(s=null),a.a.CreateTorusKnot(d,u,s)},T.CreateLineSystem=function(d,u,s){return f.a.CreateLineSystem(d,u,s)},T.CreateLines=function(d,u,s){return s===void 0&&(s=null),f.a.CreateLines(d,u,s)},T.CreateDashedLines=function(d,u,s){return s===void 0&&(s=null),f.a.CreateDashedLines(d,u,s)},T.ExtrudeShape=function(d,u,s){return s===void 0&&(s=null),t.a.ExtrudeShape(d,u,s)},T.ExtrudeShapeCustom=function(d,u,s){return s===void 0&&(s=null),t.a.ExtrudeShapeCustom(d,u,s)},T.CreateLathe=function(d,u,s){return s===void 0&&(s=null),E.a.CreateLathe(d,u,s)},T.CreateTiledPlane=function(d,u,s){return s===void 0&&(s=null),m.a.CreateTiledPlane(d,u,s)},T.CreatePlane=function(d,u,s){return s===void 0&&(s=null),c.a.CreatePlane(d,u,s)},T.CreateGround=function(d,u,s){return s===void 0&&(s=null),v.a.CreateGround(d,u,s)},T.CreateTiledGround=function(d,u,s){return s===void 0&&(s=null),v.a.CreateTiledGround(d,u,s)},T.CreateGroundFromHeightMap=function(d,u,s,D){return D===void 0&&(D=null),v.a.CreateGroundFromHeightMap(d,u,s,D)},T.CreatePolygon=function(d,u,s,D){return s===void 0&&(s=null),D===void 0&&(D=earcut),O.a.CreatePolygon(d,u,s,D)},T.ExtrudePolygon=function(d,u,s,D){return s===void 0&&(s=null),D===void 0&&(D=earcut),O.a.ExtrudePolygon(d,u,s,D)},T.CreateTube=function(d,u,s){return s===void 0&&(s=null),n.a.CreateTube(d,u,s)},T.CreatePolyhedron=function(d,u,s){return s===void 0&&(s=null),l.a.CreatePolyhedron(d,u,s)},T.CreateDecal=function(d,u,s){return i.a.CreateDecal(d,u,s)},T.CreateCapsule=function(d,u,s){return u===void 0&&(u={orientation:W.e.Up(),subdivisions:2,tessellation:16,height:1,radius:.25,capSubdivisions:6}),s===void 0&&(s=null),P.a.CreateCapsule(d,u,s)},T}()},693:function(aa,$,g){"use strict";g.d($,"a",function(){return r});var e=g(436),z=g(441),S=g(446),R=g(485);R.a.CreatePolyhedron=function(o){var h=[];h[0]={vertex:[[0,0,1.732051],[1.632993,0,-.5773503],[-.8164966,1.414214,-.5773503],[-.8164966,-1.414214,-.5773503]],face:[[0,1,2],[0,2,3],[0,3,1],[1,3,2]]},h[1]={vertex:[[0,0,1.414214],[1.414214,0,0],[0,1.414214,0],[-1.414214,0,0],[0,-1.414214,0],[0,0,-1.414214]],face:[[0,1,2],[0,2,3],[0,3,4],[0,4,1],[1,4,5],[1,5,2],[2,5,3],[3,5,4]]},h[2]={vertex:[[0,0,1.070466],[.7136442,0,.7978784],[-.3568221,.618034,.7978784],[-.3568221,-.618034,.7978784],[.7978784,.618034,.3568221],[.7978784,-.618034,.3568221],[-.9341724,.381966,.3568221],[.1362939,1,.3568221],[.1362939,-1,.3568221],[-.9341724,-.381966,.3568221],[.9341724,.381966,-.3568221],[.9341724,-.381966,-.3568221],[-.7978784,.618034,-.3568221],[-.1362939,1,-.3568221],[-.1362939,-1,-.3568221],[-.7978784,-.618034,-.3568221],[.3568221,.618034,-.7978784],[.3568221,-.618034,-.7978784],[-.7136442,0,-.7978784],[0,0,-1.070466]],face:[[0,1,4,7,2],[0,2,6,9,3],[0,3,8,5,1],[1,5,11,10,4],[2,7,13,12,6],[3,9,15,14,8],[4,10,16,13,7],[5,8,14,17,11],[6,12,18,15,9],[10,11,17,19,16],[12,13,16,19,18],[14,15,18,19,17]]},h[3]={vertex:[[0,0,1.175571],[1.051462,0,.5257311],[.3249197,1,.5257311],[-.8506508,.618034,.5257311],[-.8506508,-.618034,.5257311],[.3249197,-1,.5257311],[.8506508,.618034,-.5257311],[.8506508,-.618034,-.5257311],[-.3249197,1,-.5257311],[-1.051462,0,-.5257311],[-.3249197,-1,-.5257311],[0,0,-1.175571]],face:[[0,1,2],[0,2,3],[0,3,4],[0,4,5],[0,5,1],[1,5,7],[1,7,6],[1,6,2],[2,6,8],[2,8,3],[3,8,9],[3,9,4],[4,9,10],[4,10,5],[5,10,7],[6,7,11],[6,11,8],[7,10,11],[8,11,9],[9,11,10]]},h[4]={vertex:[[0,0,1.070722],[.7148135,0,.7971752],[-.104682,.7071068,.7971752],[-.6841528,.2071068,.7971752],[-.104682,-.7071068,.7971752],[.6101315,.7071068,.5236279],[1.04156,.2071068,.1367736],[.6101315,-.7071068,.5236279],[-.3574067,1,.1367736],[-.7888348,-.5,.5236279],[-.9368776,.5,.1367736],[-.3574067,-1,.1367736],[.3574067,1,-.1367736],[.9368776,-.5,-.1367736],[.7888348,.5,-.5236279],[.3574067,-1,-.1367736],[-.6101315,.7071068,-.5236279],[-1.04156,-.2071068,-.1367736],[-.6101315,-.7071068,-.5236279],[.104682,.7071068,-.7971752],[.6841528,-.2071068,-.7971752],[.104682,-.7071068,-.7971752],[-.7148135,0,-.7971752],[0,0,-1.070722]],face:[[0,2,3],[1,6,5],[4,9,11],[7,15,13],[8,16,10],[12,14,19],[17,22,18],[20,21,23],[0,1,5,2],[0,3,9,4],[0,4,7,1],[1,7,13,6],[2,5,12,8],[2,8,10,3],[3,10,17,9],[4,11,15,7],[5,6,14,12],[6,13,20,14],[8,12,19,16],[9,17,18,11],[10,16,22,17],[11,18,21,15],[13,15,21,20],[14,20,23,19],[16,19,23,22],[18,22,23,21]]},h[5]={vertex:[[0,0,1.322876],[1.309307,0,.1889822],[-.9819805,.8660254,.1889822],[.1636634,-1.299038,.1889822],[.3273268,.8660254,-.9449112],[-.8183171,-.4330127,-.9449112]],face:[[0,3,1],[2,4,5],[0,1,4,2],[0,2,5,3],[1,3,5,4]]},h[6]={vertex:[[0,0,1.159953],[1.013464,0,.5642542],[-.3501431,.9510565,.5642542],[-.7715208,-.6571639,.5642542],[.6633206,.9510565,-.03144481],[.8682979,-.6571639,-.3996071],[-1.121664,.2938926,-.03144481],[-.2348831,-1.063314,-.3996071],[.5181548,.2938926,-.9953061],[-.5850262,-.112257,-.9953061]],face:[[0,1,4,2],[0,2,6,3],[1,5,8,4],[3,6,9,7],[5,7,9,8],[0,3,7,5,1],[2,4,8,9,6]]},h[7]={vertex:[[0,0,1.118034],[.8944272,0,.6708204],[-.2236068,.8660254,.6708204],[-.7826238,-.4330127,.6708204],[.6708204,.8660254,.2236068],[1.006231,-.4330127,-.2236068],[-1.006231,.4330127,.2236068],[-.6708204,-.8660254,-.2236068],[.7826238,.4330127,-.6708204],[.2236068,-.8660254,-.6708204],[-.8944272,0,-.6708204],[0,0,-1.118034]],face:[[0,1,4,2],[0,2,6,3],[1,5,8,4],[3,6,10,7],[5,9,11,8],[7,10,11,9],[0,3,7,9,5,1],[2,4,8,11,10,6]]},h[8]={vertex:[[-.729665,.670121,.319155],[-.655235,-.29213,-.754096],[-.093922,-.607123,.537818],[.702196,.595691,.485187],[.776626,-.36656,-.588064]],face:[[1,4,2],[0,1,2],[3,0,2],[4,3,2],[4,1,0,3]]},h[9]={vertex:[[-.868849,-.100041,.61257],[-.329458,.976099,.28078],[-.26629,-.013796,-.477654],[-.13392,-1.034115,.229829],[.738834,.707117,-.307018],[.859683,-.535264,-.338508]],face:[[3,0,2],[5,3,2],[4,5,2],[1,4,2],[0,1,2],[0,3,5,4,1]]},h[10]={vertex:[[-.610389,.243975,.531213],[-.187812,-.48795,-.664016],[-.187812,.9759,-.664016],[.187812,-.9759,.664016],[.798201,.243975,.132803]],face:[[1,3,0],[3,4,0],[3,1,4],[0,2,1],[0,4,2],[2,4,1]]},h[11]={vertex:[[-1.028778,.392027,-.048786],[-.640503,-.646161,.621837],[-.125162,-.395663,-.540059],[.004683,.888447,-.651988],[.125161,.395663,.540059],[.632925,-.791376,.433102],[1.031672,.157063,-.354165]],face:[[3,2,0],[2,1,0],[2,5,1],[0,4,3],[0,1,4],[4,1,5],[2,3,6],[3,4,6],[5,2,6],[4,5,6]]},h[12]={vertex:[[-.669867,.334933,-.529576],[-.669867,.334933,.529577],[-.4043,1.212901,0],[-.334933,-.669867,-.529576],[-.334933,-.669867,.529577],[.334933,.669867,-.529576],[.334933,.669867,.529577],[.4043,-1.212901,0],[.669867,-.334933,-.529576],[.669867,-.334933,.529577]],face:[[8,9,7],[6,5,2],[3,8,7],[5,0,2],[4,3,7],[0,1,2],[9,4,7],[1,6,2],[9,8,5,6],[8,3,0,5],[3,4,1,0],[4,9,6,1]]},h[13]={vertex:[[-.931836,.219976,-.264632],[-.636706,.318353,.692816],[-.613483,-.735083,-.264632],[-.326545,.979634,0],[-.318353,-.636706,.692816],[-.159176,.477529,-.856368],[.159176,-.477529,-.856368],[.318353,.636706,.692816],[.326545,-.979634,0],[.613482,.735082,-.264632],[.636706,-.318353,.692816],[.931835,-.219977,-.264632]],face:[[11,10,8],[7,9,3],[6,11,8],[9,5,3],[2,6,8],[5,0,3],[4,2,8],[0,1,3],[10,4,8],[1,7,3],[10,11,9,7],[11,6,5,9],[6,2,0,5],[2,4,1,0],[4,10,7,1]]},h[14]={vertex:[[-.93465,.300459,-.271185],[-.838689,-.260219,-.516017],[-.711319,.717591,.128359],[-.710334,-.156922,.080946],[-.599799,.556003,-.725148],[-.503838,-.004675,-.969981],[-.487004,.26021,.48049],[-.460089,-.750282,-.512622],[-.376468,.973135,-.325605],[-.331735,-.646985,.084342],[-.254001,.831847,.530001],[-.125239,-.494738,-.966586],[.029622,.027949,.730817],[.056536,-.982543,-.262295],[.08085,1.087391,.076037],[.125583,-.532729,.485984],[.262625,.599586,.780328],[.391387,-.726999,-.716259],[.513854,-.868287,.139347],[.597475,.85513,.326364],[.641224,.109523,.783723],[.737185,-.451155,.538891],[.848705,-.612742,-.314616],[.976075,.365067,.32976],[1.072036,-.19561,.084927]],face:[[15,18,21],[12,20,16],[6,10,2],[3,0,1],[9,7,13],[2,8,4,0],[0,4,5,1],[1,5,11,7],[7,11,17,13],[13,17,22,18],[18,22,24,21],[21,24,23,20],[20,23,19,16],[16,19,14,10],[10,14,8,2],[15,9,13,18],[12,15,21,20],[6,12,16,10],[3,6,2,0],[9,3,1,7],[9,15,12,6,3],[22,17,11,5,4,8,14,19,23,24]]};var a=o.type&&(o.type<0||o.type>=h.length)?0:o.type||0,f=o.size,O=o.sizeX||f||1,t=o.sizeY||f||1,E=o.sizeZ||f||1,c=o.custom||h[a],m=c.face.length,v=o.faceUV||new Array(m),n=o.faceColors,l=o.flat===void 0?!0:o.flat,_=o.sideOrientation===0?0:o.sideOrientation||R.a.DEFAULTSIDE,i=new Array,P=new Array,W=new Array,A=new Array,T=new Array,d=0,u=0,s=new Array,D=0,x=0,w,M,U,L,K,H;if(l)for(x=0;x<m;x++)n&&n[x]===void 0&&(n[x]=new z.b(1,1,1,1)),v&&v[x]===void 0&&(v[x]=new e.f(0,0,1,1));if(l)for(x=0;x<m;x++){var b=c.face[x].length;for(U=2*Math.PI/b,L=.5*Math.tan(U/2),K=.5,D=0;D<b;D++)i.push(c.vertex[c.face[x][D]][0]*O,c.vertex[c.face[x][D]][1]*t,c.vertex[c.face[x][D]][2]*E),s.push(d),d++,w=v[x].x+(v[x].z-v[x].x)*(.5+L),M=v[x].y+(v[x].w-v[x].y)*(K-.5),A.push(w,M),H=L*Math.cos(U)-K*Math.sin(U),K=L*Math.sin(U)+K*Math.cos(U),L=H,n&&T.push(n[x].r,n[x].g,n[x].b,n[x].a);for(D=0;D<b-2;D++)P.push(s[0+u],s[D+2+u],s[D+1+u]);u+=b}else{for(D=0;D<c.vertex.length;D++)i.push(c.vertex[D][0]*O,c.vertex[D][1]*t,c.vertex[D][2]*E),A.push(0,0);for(x=0;x<m;x++)for(D=0;D<c.face[x].length-2;D++)P.push(c.face[x][0],c.face[x][D+2],c.face[x][D+1])}R.a.ComputeNormals(i,P,W),R.a._ComputeSides(_,i,P,W,A,o.frontUVs,o.backUVs);var F=new R.a;return F.positions=i,F.indices=P,F.normals=W,F.uvs=A,n&&l&&(F.colors=T),F},S.a.CreatePolyhedron=function(o,h,a){return r.CreatePolyhedron(o,h,a)};var r=function(){function o(){}return o.CreatePolyhedron=function(h,a,f){f===void 0&&(f=null);var O=new S.a(h,f);a.sideOrientation=S.a._GetDefaultSideOrientation(a.sideOrientation),O._originalBuilderSideOrientation=a.sideOrientation;var t=R.a.CreatePolyhedron(a);return t.applyToMesh(O,a.updatable),O},o}()},697:function(aa,$,g){"use strict";g.d($,"a",function(){return S});var e=g(446),z=g(485);z.a.CreateDisc=function(R){var r=new Array,o=new Array,h=new Array,a=new Array,f=R.radius||.5,O=R.tessellation||64,t=R.arc&&(R.arc<=0||R.arc>1)?1:R.arc||1,E=R.sideOrientation===0?0:R.sideOrientation||z.a.DEFAULTSIDE;r.push(0,0,0),a.push(.5,.5);for(var c=Math.PI*2*t,m=t===1?c/O:c/(O-1),v=0,n=0;n<O;n++){var l=Math.cos(v),_=Math.sin(v),i=(l+1)/2,P=(1-_)/2;r.push(f*l,f*_,0),a.push(i,P),v+=m}t===1&&(r.push(r[3],r[4],r[5]),a.push(a[2],a[3]));for(var W=r.length/3,A=1;A<W-1;A++)o.push(A+1,0,A);z.a.ComputeNormals(r,o,h),z.a._ComputeSides(E,r,o,h,a,R.frontUVs,R.backUVs);var T=new z.a;return T.indices=o,T.positions=r,T.normals=h,T.uvs=a,T},e.a.CreateDisc=function(R,r,o,h,a,f){h===void 0&&(h=null);var O={radius:r,tessellation:o,sideOrientation:f,updatable:a};return S.CreateDisc(R,O,h)};var S=function(){function R(){}return R.CreateDisc=function(r,o,h){h===void 0&&(h=null);var a=new e.a(r,h);o.sideOrientation=e.a._GetDefaultSideOrientation(o.sideOrientation),a._originalBuilderSideOrientation=o.sideOrientation;var f=z.a.CreateDisc(o);return f.applyToMesh(a,o.updatable),a},R}()},730:function(aa,$,g){"use strict";g.d($,"a",function(){return r});var e=g(434),z=g(436),S=g(447),R=g(446);R.a._GroundMeshParser=function(o,h){return r.Parse(o,h)};var r=function(o){Object(e.d)(h,o);function h(a,f){var O=o.call(this,a,f)||this;return O.generateOctree=!1,O}return h.prototype.getClassName=function(){return"GroundMesh"},Object.defineProperty(h.prototype,"subdivisions",{get:function(){return Math.min(this._subdivisionsX,this._subdivisionsY)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"subdivisionsX",{get:function(){return this._subdivisionsX},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"subdivisionsY",{get:function(){return this._subdivisionsY},enumerable:!1,configurable:!0}),h.prototype.optimize=function(a,f){f===void 0&&(f=32),this._subdivisionsX=a,this._subdivisionsY=a,this.subdivide(a);var O=this;O.createOrUpdateSubmeshesOctree&&O.createOrUpdateSubmeshesOctree(f)},h.prototype.getHeightAtCoordinates=function(a,f){var O=this.getWorldMatrix(),t=z.c.Matrix[5];O.invertToRef(t);var E=z.c.Vector3[8];if(z.e.TransformCoordinatesFromFloatsToRef(a,0,f,t,E),a=E.x,f=E.z,a<this._minX||a>this._maxX||f<this._minZ||f>this._maxZ)return this.position.y;(!this._heightQuads||this._heightQuads.length==0)&&(this._initHeightQuads(),this._computeHeightQuads());var c=this._getFacetAt(a,f),m=-(c.x*a+c.z*f+c.w)/c.y;return z.e.TransformCoordinatesFromFloatsToRef(0,m,0,O,E),E.y},h.prototype.getNormalAtCoordinates=function(a,f){var O=new z.e(0,1,0);return this.getNormalAtCoordinatesToRef(a,f,O),O},h.prototype.getNormalAtCoordinatesToRef=function(a,f,O){var t=this.getWorldMatrix(),E=z.c.Matrix[5];t.invertToRef(E);var c=z.c.Vector3[8];if(z.e.TransformCoordinatesFromFloatsToRef(a,0,f,E,c),a=c.x,f=c.z,a<this._minX||a>this._maxX||f<this._minZ||f>this._maxZ)return this;(!this._heightQuads||this._heightQuads.length==0)&&(this._initHeightQuads(),this._computeHeightQuads());var m=this._getFacetAt(a,f);return z.e.TransformNormalFromFloatsToRef(m.x,m.y,m.z,t,O),this},h.prototype.updateCoordinateHeights=function(){return(!this._heightQuads||this._heightQuads.length==0)&&this._initHeightQuads(),this._computeHeightQuads(),this},h.prototype._getFacetAt=function(a,f){var O=Math.floor((a+this._maxX)*this._subdivisionsX/this._width),t=Math.floor(-(f+this._maxZ)*this._subdivisionsY/this._height+this._subdivisionsY),E=this._heightQuads[t*this._subdivisionsX+O],c;return f<E.slope.x*a+E.slope.y?c=E.facet1:c=E.facet2,c},h.prototype._initHeightQuads=function(){var a=this._subdivisionsX,f=this._subdivisionsY;this._heightQuads=new Array;for(var O=0;O<f;O++)for(var t=0;t<a;t++){var E={slope:z.d.Zero(),facet1:new z.f(0,0,0,0),facet2:new z.f(0,0,0,0)};this._heightQuads[O*a+t]=E}return this},h.prototype._computeHeightQuads=function(){var a=this.getVerticesData(S.b.PositionKind);if(!a)return this;for(var f=z.c.Vector3[3],O=z.c.Vector3[2],t=z.c.Vector3[1],E=z.c.Vector3[0],c=z.c.Vector3[4],m=z.c.Vector3[5],v=z.c.Vector3[6],n=z.c.Vector3[7],l=z.c.Vector3[8],_=0,i=0,P=0,W=0,A=0,T=0,d=0,u=this._subdivisionsX,s=this._subdivisionsY,D=0;D<s;D++)for(var x=0;x<u;x++){_=x*3,i=D*(u+1)*3,P=(D+1)*(u+1)*3,f.x=a[i+_],f.y=a[i+_+1],f.z=a[i+_+2],O.x=a[i+_+3],O.y=a[i+_+4],O.z=a[i+_+5],t.x=a[P+_],t.y=a[P+_+1],t.z=a[P+_+2],E.x=a[P+_+3],E.y=a[P+_+4],E.z=a[P+_+5],W=(E.z-f.z)/(E.x-f.x),A=f.z-W*f.x,O.subtractToRef(f,c),t.subtractToRef(f,m),E.subtractToRef(f,v),z.e.CrossToRef(v,m,n),z.e.CrossToRef(c,v,l),n.normalize(),l.normalize(),T=-(n.x*f.x+n.y*f.y+n.z*f.z),d=-(l.x*O.x+l.y*O.y+l.z*O.z);var w=this._heightQuads[D*u+x];w.slope.copyFromFloats(W,A),w.facet1.copyFromFloats(n.x,n.y,n.z,T),w.facet2.copyFromFloats(l.x,l.y,l.z,d)}return this},h.prototype.serialize=function(a){o.prototype.serialize.call(this,a),a.subdivisionsX=this._subdivisionsX,a.subdivisionsY=this._subdivisionsY,a.minX=this._minX,a.maxX=this._maxX,a.minZ=this._minZ,a.maxZ=this._maxZ,a.width=this._width,a.height=this._height},h.Parse=function(a,f){var O=new h(a.name,f);return O._subdivisionsX=a.subdivisionsX||1,O._subdivisionsY=a.subdivisionsY||1,O._minX=a.minX,O._maxX=a.maxX,O._minZ=a.minZ,O._maxZ=a.maxZ,O._width=a.width,O._height=a.height,O},h}(R.a)},734:function(aa,$,g){"use strict";g.d($,"a",function(){return r});var e=g(436),z=g(441),S=g(446),R=g(485);R.a.CreateTiledBox=function(o){for(var h=6,a=o.faceUV||new Array(6),f=o.faceColors,O=o.pattern||S.a.NO_FLIP,t=o.width||o.size||1,E=o.height||o.size||1,c=o.depth||o.size||1,m=o.tileWidth||o.tileSize||1,v=o.tileHeight||o.tileSize||1,n=o.alignHorizontal||0,l=o.alignVertical||0,_=o.sideOrientation===0?0:o.sideOrientation||R.a.DEFAULTSIDE,i=0;i<h;i++)a[i]===void 0&&(a[i]=new e.f(0,0,1,1)),f&&f[i]===void 0&&(f[i]=new z.b(1,1,1,1));for(var P=t/2,W=E/2,A=c/2,T=[],i=0;i<2;i++)T[i]=R.a.CreateTiledPlane({pattern:O,tileWidth:m,tileHeight:v,width:t,height:E,alignVertical:l,alignHorizontal:n,sideOrientation:_});for(var i=2;i<4;i++)T[i]=R.a.CreateTiledPlane({pattern:O,tileWidth:m,tileHeight:v,width:c,height:E,alignVertical:l,alignHorizontal:n,sideOrientation:_});var d=l;l===S.a.BOTTOM?d=S.a.TOP:l===S.a.TOP&&(d=S.a.BOTTOM);for(var i=4;i<6;i++)T[i]=R.a.CreateTiledPlane({pattern:O,tileWidth:m,tileHeight:v,width:t,height:c,alignVertical:d,alignHorizontal:n,sideOrientation:_});for(var u=[],s=[],D=[],x=[],w=[],M=[],U=[],L=[],K=0,H=0,b=0,i=0;i<h;i++){var K=T[i].positions.length;M[i]=[],U[i]=[];for(var F=0;F<K/3;F++)M[i].push(new e.e(T[i].positions[3*F],T[i].positions[3*F+1],T[i].positions[3*F+2])),U[i].push(new e.e(T[i].normals[3*F],T[i].normals[3*F+1],T[i].normals[3*F+2]));H=T[i].uvs.length,L[i]=[];for(var X=0;X<H;X+=2)L[i][X]=a[i].x+(a[i].z-a[i].x)*T[i].uvs[X],L[i][X+1]=a[i].y+(a[i].w-a[i].y)*T[i].uvs[X+1];if(D=D.concat(L[i]),x=x.concat(T[i].indices.map(function(k){return k+b})),b+=M[i].length,f)for(var C=0;C<4;C++)w.push(f[i].r,f[i].g,f[i].b,f[i].a)}var y=new e.e(0,0,A),B=e.a.RotationY(Math.PI);u=M[0].map(function(p){return e.e.TransformNormal(p,B).add(y)}).map(function(p){return[p.x,p.y,p.z]}).reduce(function(p,Y){return p.concat(Y)},[]),s=U[0].map(function(p){return e.e.TransformNormal(p,B)}).map(function(p){return[p.x,p.y,p.z]}).reduce(function(p,Y){return p.concat(Y)},[]),u=u.concat(M[1].map(function(p){return p.subtract(y)}).map(function(p){return[p.x,p.y,p.z]}).reduce(function(p,Y){return p.concat(Y)},[])),s=s.concat(U[1].map(function(p){return[p.x,p.y,p.z]}).reduce(function(p,Y){return p.concat(Y)},[]));var I=new e.e(P,0,0),G=e.a.RotationY(-Math.PI/2);u=u.concat(M[2].map(function(p){return e.e.TransformNormal(p,G).add(I)}).map(function(p){return[p.x,p.y,p.z]}).reduce(function(p,Y){return p.concat(Y)},[])),s=s.concat(U[2].map(function(p){return e.e.TransformNormal(p,G)}).map(function(p){return[p.x,p.y,p.z]}).reduce(function(p,Y){return p.concat(Y)},[]));var Z=e.a.RotationY(Math.PI/2);u=u.concat(M[3].map(function(p){return e.e.TransformNormal(p,Z).subtract(I)}).map(function(p){return[p.x,p.y,p.z]}).reduce(function(p,Y){return p.concat(Y)},[])),s=s.concat(U[3].map(function(p){return e.e.TransformNormal(p,Z)}).map(function(p){return[p.x,p.y,p.z]}).reduce(function(p,Y){return p.concat(Y)},[]));var j=new e.e(0,W,0),N=e.a.RotationX(Math.PI/2);u=u.concat(M[4].map(function(p){return e.e.TransformNormal(p,N).add(j)}).map(function(p){return[p.x,p.y,p.z]}).reduce(function(p,Y){return p.concat(Y)},[])),s=s.concat(U[4].map(function(p){return e.e.TransformNormal(p,N)}).map(function(p){return[p.x,p.y,p.z]}).reduce(function(p,Y){return p.concat(Y)},[]));var V=e.a.RotationX(-Math.PI/2);u=u.concat(M[5].map(function(p){return e.e.TransformNormal(p,V).subtract(j)}).map(function(p){return[p.x,p.y,p.z]}).reduce(function(p,Y){return p.concat(Y)},[])),s=s.concat(U[5].map(function(p){return e.e.TransformNormal(p,V)}).map(function(p){return[p.x,p.y,p.z]}).reduce(function(p,Y){return p.concat(Y)},[])),R.a._ComputeSides(_,u,x,s,D);var Q=new R.a;if(Q.indices=x,Q.positions=u,Q.normals=s,Q.uvs=D,f){var J=_===R.a.DOUBLESIDE?w.concat(w):w;Q.colors=J}return Q};var r=function(){function o(){}return o.CreateTiledBox=function(h,a,f){f===void 0&&(f=null);var O=new S.a(h,f);a.sideOrientation=S.a._GetDefaultSideOrientation(a.sideOrientation),O._originalBuilderSideOrientation=a.sideOrientation;var t=R.a.CreateTiledBox(a);return t.applyToMesh(O,a.updatable),O},o}()},735:function(aa,$,g){"use strict";g.d($,"a",function(){return R});var e=g(436),z=g(446),S=g(485);S.a.CreateTorusKnot=function(r){var o=new Array,h=new Array,a=new Array,f=new Array,O=r.radius||2,t=r.tube||.5,E=r.radialSegments||32,c=r.tubularSegments||32,m=r.p||2,v=r.q||3,n=r.sideOrientation===0?0:r.sideOrientation||S.a.DEFAULTSIDE,l=function(X){var C=Math.cos(X),y=Math.sin(X),B=v/m*X,I=Math.cos(B),G=O*(2+I)*.5*C,Z=O*(2+I)*y*.5,j=O*Math.sin(B)*.5;return new e.e(G,Z,j)},_,i;for(_=0;_<=E;_++){var P=_%E,W=P/E*2*m*Math.PI,A=l(W),T=l(W+.01),d=T.subtract(A),u=T.add(A),s=e.e.Cross(d,u);for(u=e.e.Cross(s,d),s.normalize(),u.normalize(),i=0;i<c;i++){var D=i%c,x=D/c*2*Math.PI,w=-t*Math.cos(x),M=t*Math.sin(x);h.push(A.x+w*u.x+M*s.x),h.push(A.y+w*u.y+M*s.y),h.push(A.z+w*u.z+M*s.z),f.push(_/E),f.push(i/c)}}for(_=0;_<E;_++)for(i=0;i<c;i++){var U=(i+1)%c,L=_*c+i,K=(_+1)*c+i,H=(_+1)*c+U,b=_*c+U;o.push(b),o.push(K),o.push(L),o.push(b),o.push(H),o.push(K)}S.a.ComputeNormals(h,o,a),S.a._ComputeSides(n,h,o,a,f,r.frontUVs,r.backUVs);var F=new S.a;return F.indices=o,F.positions=h,F.normals=a,F.uvs=f,F},z.a.CreateTorusKnot=function(r,o,h,a,f,O,t,E,c,m){var v={radius:o,tube:h,radialSegments:a,tubularSegments:f,p:O,q:t,sideOrientation:m,updatable:c};return R.CreateTorusKnot(r,v,E)};var R=function(){function r(){}return r.CreateTorusKnot=function(o,h,a){var f=new z.a(o,a);h.sideOrientation=z.a._GetDefaultSideOrientation(h.sideOrientation),f._originalBuilderSideOrientation=h.sideOrientation;var O=S.a.CreateTorusKnot(h);return O.applyToMesh(f,h.updatable),f},r}()},736:function(aa,$,g){"use strict";g.d($,"a",function(){return a});var e=g(436),z=g(441),S=g(446),R=g(485),r=g(737),o=g(447),h=g(448);R.a.CreatePolygon=function(f,O,t,E,c,m,v){for(var n=t||new Array(3),l=E,_=[],i=v||!1,P=0;P<3;P++)n[P]===void 0&&(n[P]=new e.f(0,0,1,1)),l&&l[P]===void 0&&(l[P]=new z.b(1,1,1,1));var W=f.getVerticesData(o.b.PositionKind),A=f.getVerticesData(o.b.NormalKind),T=f.getVerticesData(o.b.UVKind),d=f.getIndices(),u=W.length/9,s=0,D=0,x=0,w=0,M=0,U=[0];if(i)for(var L=u;L<W.length/3;L+=4)D=W[3*(L+2)]-W[3*L],x=W[3*(L+2)+2]-W[3*L+2],w=Math.sqrt(D*D+x*x),M+=w,U.push(M);for(var L=0,K=0,H=0;H<A.length;H+=3)Math.abs(A[H+1])<.001&&(K=1),Math.abs(A[H+1]-1)<.001&&(K=0),Math.abs(A[H+1]+1)<.001&&(K=2),L=H/3,K===1?(s=L-u,s%4<1.5?i?T[2*L]=n[K].x+(n[K].z-n[K].x)*U[Math.floor(s/4)]/M:T[2*L]=n[K].x:i?T[2*L]=n[K].x+(n[K].z-n[K].x)*U[Math.floor(s/4)+1]/M:T[2*L]=n[K].z,s%2==0?T[2*L+1]=n[K].w:T[2*L+1]=n[K].y):(T[2*L]=(1-T[2*L])*n[K].x+T[2*L]*n[K].z,T[2*L+1]=(1-T[2*L+1])*n[K].y+T[2*L+1]*n[K].w),l&&_.push(l[K].r,l[K].g,l[K].b,l[K].a);R.a._ComputeSides(O,W,d,A,T,c,m);var b=new R.a;if(b.indices=d,b.positions=W,b.normals=A,b.uvs=T,l){var F=O===R.a.DOUBLESIDE?_.concat(_):_;b.colors=F}return b},S.a.CreatePolygon=function(f,O,t,E,c,m,v){v===void 0&&(v=earcut);var n={shape:O,holes:E,updatable:c,sideOrientation:m};return a.CreatePolygon(f,n,t,v)},S.a.ExtrudePolygon=function(f,O,t,E,c,m,v,n){n===void 0&&(n=earcut);var l={shape:O,holes:c,depth:t,updatable:m,sideOrientation:v};return a.ExtrudePolygon(f,l,E,n)};var a=function(){function f(){}return f.CreatePolygon=function(O,t,E,c){E===void 0&&(E=null),c===void 0&&(c=earcut),t.sideOrientation=S.a._GetDefaultSideOrientation(t.sideOrientation);for(var m=t.shape,v=t.holes||[],n=t.depth||0,l=t.smoothingThreshold||2,_=[],i=[],P=0;P<m.length;P++)_[P]=new e.d(m[P].x,m[P].z);var W=1e-8;_[0].equalsWithEpsilon(_[_.length-1],W)&&_.pop();for(var A=new r.b(O,_,E||h.a.LastCreatedScene,c),T=0;T<v.length;T++){i=[];for(var d=0;d<v[T].length;d++)i.push(new e.d(v[T][d].x,v[T][d].z));A.addHole(i)}var u=A.build(t.updatable,n,l);u._originalBuilderSideOrientation=t.sideOrientation;var s=R.a.CreatePolygon(u,t.sideOrientation,t.faceUV,t.faceColors,t.frontUVs,t.backUVs,t.wrap);return s.applyToMesh(u,t.updatable),u},f.ExtrudePolygon=function(O,t,E,c){return E===void 0&&(E=null),c===void 0&&(c=earcut),f.CreatePolygon(O,t,E,c)},f}()},737:function(aa,$,g){"use strict";g.d($,"a",function(){return E}),g.d($,"b",function(){return c});var e=g(434),z=g(440),S=g(436),R=g(447),r=g(446),o=g(485),h=g(445),a=g(756),f=g(515),O=function(m){Object(e.d)(v,m);function v(n,l){var _=m.call(this,n.x,n.y)||this;return _.index=l,_}return v}(S.d),t=function(){function m(){this.elements=new Array}return m.prototype.add=function(v){var n=this,l=new Array;return v.forEach(function(_){var i=new O(_,n.elements.length);l.push(i),n.elements.push(i)}),l},m.prototype.computeBounds=function(){var v=new S.d(this.elements[0].x,this.elements[0].y),n=new S.d(this.elements[0].x,this.elements[0].y);return this.elements.forEach(function(l){l.x<v.x?v.x=l.x:l.x>n.x&&(n.x=l.x),l.y<v.y?v.y=l.y:l.y>n.y&&(n.y=l.y)}),{min:v,max:n,width:n.x-v.x,height:n.y-v.y}},m}(),E=function(){function m(){}return m.Rectangle=function(v,n,l,_){return[new S.d(v,n),new S.d(l,n),new S.d(l,_),new S.d(v,_)]},m.Circle=function(v,n,l,_){n===void 0&&(n=0),l===void 0&&(l=0),_===void 0&&(_=32);for(var i=new Array,P=0,W=Math.PI*2/_,A=0;A<_;A++)i.push(new S.d(n+Math.cos(P)*v,l+Math.sin(P)*v)),P-=W;return i},m.Parse=function(v){var n=v.split(/[^-+eE\.\d]+/).map(parseFloat).filter(function(i){return!isNaN(i)}),l,_=[];for(l=0;l<(n.length&2147483646);l+=2)_.push(new S.d(n[l],n[l+1]));return _},m.StartingAt=function(v,n){return a.f.StartingAt(v,n)},m}(),c=function(){function m(v,n,l,_){_===void 0&&(_=earcut),this._points=new t,this._outlinepoints=new t,this._holes=new Array,this._epoints=new Array,this._eholes=new Array,this.bjsEarcut=_,this._name=v,this._scene=l||h.a.LastCreatedScene;var i;n instanceof a.f?i=n.getPoints():i=n,this._addToepoint(i),this._points.add(i),this._outlinepoints.add(i),typeof this.bjsEarcut=="undefined"&&z.a.Warn("Earcut was not found, the polygon will not be built.")}return m.prototype._addToepoint=function(v){for(var n=0,l=v;n<l.length;n++){var _=l[n];this._epoints.push(_.x,_.y)}},m.prototype.addHole=function(v){this._points.add(v);var n=new t;return n.add(v),this._holes.push(n),this._eholes.push(this._epoints.length/2),this._addToepoint(v),this},m.prototype.build=function(v,n,l){v===void 0&&(v=!1),n===void 0&&(n=0),l===void 0&&(l=2);var _=new r.a(this._name,this._scene),i=this.buildVertexData(n,l);return _.setVerticesData(R.b.PositionKind,i.positions,v),_.setVerticesData(R.b.NormalKind,i.normals,v),_.setVerticesData(R.b.UVKind,i.uvs,v),_.setIndices(i.indices),_},m.prototype.buildVertexData=function(v,n){var l=this;v===void 0&&(v=0),n===void 0&&(n=2);var _=new o.a,i=new Array,P=new Array,W=new Array,A=this._points.computeBounds();this._points.elements.forEach(function(U){i.push(0,1,0),P.push(U.x,0,U.y),W.push((U.x-A.min.x)/A.width,(U.y-A.min.y)/A.height)});for(var T=new Array,d=this.bjsEarcut(this._epoints,this._eholes,2),u=0;u<d.length;u++)T.push(d[u]);if(v>0){var s=P.length/3;this._points.elements.forEach(function(U){i.push(0,-1,0),P.push(U.x,-v,U.y),W.push(1-(U.x-A.min.x)/A.width,1-(U.y-A.min.y)/A.height)});for(var D=T.length,u=0;u<D;u+=3){var x=T[u+0],w=T[u+1],M=T[u+2];T.push(M+s),T.push(w+s),T.push(x+s)}this.addSide(P,i,W,T,A,this._outlinepoints,v,!1,n),this._holes.forEach(function(U){l.addSide(P,i,W,T,A,U,v,!0,n)})}return _.indices=T,_.positions=P,_.normals=i,_.uvs=W,_},m.prototype.addSide=function(v,n,l,_,i,P,W,A,T){for(var d=v.length/3,u=0,s=0;s<P.elements.length;s++){var D=P.elements[s],x=P.elements[(s+1)%P.elements.length];v.push(D.x,0,D.y),v.push(D.x,-W,D.y),v.push(x.x,0,x.y),v.push(x.x,-W,x.y);var w=P.elements[(s+P.elements.length-1)%P.elements.length],M=P.elements[(s+2)%P.elements.length],U=new S.e(-(x.y-D.y),0,x.x-D.x),L=new S.e(-(D.y-w.y),0,D.x-w.x),K=new S.e(-(M.y-x.y),0,M.x-x.x);A||(U=U.scale(-1),L=L.scale(-1),K=K.scale(-1));var H=U.normalizeToNew(),b=L.normalizeToNew(),F=K.normalizeToNew(),X=S.e.Dot(b,H);X>T?X<f.a-1?b=new S.e(D.x,0,D.y).subtract(new S.e(x.x,0,x.y)).normalize():b=L.add(U).normalize():b=H;var C=S.e.Dot(K,U);C>T?C<f.a-1?F=new S.e(x.x,0,x.y).subtract(new S.e(D.x,0,D.y)).normalize():F=K.add(U).normalize():F=H,l.push(u/i.width,0),l.push(u/i.width,1),u+=U.length(),l.push(u/i.width,0),l.push(u/i.width,1),n.push(b.x,b.y,b.z),n.push(b.x,b.y,b.z),n.push(F.x,F.y,F.z),n.push(F.x,F.y,F.z),A?(_.push(d),_.push(d+2),_.push(d+1),_.push(d+1),_.push(d+2),_.push(d+3)):(_.push(d),_.push(d+1),_.push(d+2),_.push(d+1),_.push(d+3),_.push(d+2)),d+=4}},m}()},738:function(aa,$,g){"use strict";g.d($,"a",function(){return R});var e=g(436),z=g(446),S=g(706);z.a.CreateLathe=function(r,o,h,a,f,O,t){var E={shape:o,radius:h,tessellation:a,sideOrientation:t,updatable:O};return R.CreateLathe(r,E,f)};var R=function(){function r(){}return r.CreateLathe=function(o,h,a){a===void 0&&(a=null);var f=h.arc?h.arc<=0||h.arc>1?1:h.arc:1,O=h.closed===void 0?!0:h.closed,t=h.shape,E=h.radius||1,c=h.tessellation||64,m=h.clip||0,v=h.updatable,n=z.a._GetDefaultSideOrientation(h.sideOrientation),l=h.cap||z.a.NO_CAP,_=Math.PI*2,i=new Array,P=h.invertUV||!1,W=0,A=0,T=_/c*f,d,u=new Array;for(W=0;W<=c-m;W++){var u=[];for((l==z.a.CAP_START||l==z.a.CAP_ALL)&&(u.push(new e.e(0,t[0].y,0)),u.push(new e.e(Math.cos(W*T)*t[0].x*E,t[0].y,Math.sin(W*T)*t[0].x*E))),A=0;A<t.length;A++)d=new e.e(Math.cos(W*T)*t[A].x*E,t[A].y,Math.sin(W*T)*t[A].x*E),u.push(d);(l==z.a.CAP_END||l==z.a.CAP_ALL)&&(u.push(new e.e(Math.cos(W*T)*t[t.length-1].x*E,t[t.length-1].y,Math.sin(W*T)*t[t.length-1].x*E)),u.push(new e.e(0,t[t.length-1].y,0))),i.push(u)}var s=S.a.CreateRibbon(o,{pathArray:i,closeArray:O,sideOrientation:n,updatable:v,invertUV:P,frontUVs:h.frontUVs,backUVs:h.backUVs},a);return s},r}()},739:function(aa,$,g){"use strict";g.d($,"a",function(){return S});var e=g(446),z=g(485);z.a.CreateTiledPlane=function(R){var r=R.pattern||e.a.NO_FLIP,o=R.tileWidth||R.tileSize||1,h=R.tileHeight||R.tileSize||1,a=R.alignHorizontal||0,f=R.alignVertical||0,O=R.width||R.size||1,t=Math.floor(O/o),E=O-t*o,c=R.height||R.size||1,m=Math.floor(c/h),v=c-m*h,n=o*t/2,l=h*m/2,_=0,i=0,P=0,W=0,A=0,T=0;if(E>0||v>0){P=-n,W=-l;var A=n,T=l;switch(a){case e.a.CENTER:E/=2,P-=E,A+=E;break;case e.a.LEFT:A+=E,_=-E/2;break;case e.a.RIGHT:P-=E,_=E/2;break}switch(f){case e.a.CENTER:v/=2,W-=v,T+=v;break;case e.a.BOTTOM:T+=v,i=-v/2;break;case e.a.TOP:W-=v,i=v/2;break}}var d=[],u=[],s=[];s[0]=[0,0,1,0,1,1,0,1],s[1]=[0,0,1,0,1,1,0,1],(r===e.a.ROTATE_TILE||r===e.a.ROTATE_ROW)&&(s[1]=[1,1,0,1,0,0,1,0]),(r===e.a.FLIP_TILE||r===e.a.FLIP_ROW)&&(s[1]=[1,0,0,0,0,1,1,1]),(r===e.a.FLIP_N_ROTATE_TILE||r===e.a.FLIP_N_ROTATE_ROW)&&(s[1]=[0,1,1,1,1,0,0,0]);for(var D=[],x=[],w=[],M=0,U=0;U<m;U++)for(var L=0;L<t;L++)d.push(-n+L*o+_,-l+U*h+i,0),d.push(-n+(L+1)*o+_,-l+U*h+i,0),d.push(-n+(L+1)*o+_,-l+(U+1)*h+i,0),d.push(-n+L*o+_,-l+(U+1)*h+i,0),w.push(M,M+1,M+3,M+1,M+2,M+3),r===e.a.FLIP_TILE||r===e.a.ROTATE_TILE||r===e.a.FLIP_N_ROTATE_TILE?D=D.concat(s[(L%2+U%2)%2]):r===e.a.FLIP_ROW||r===e.a.ROTATE_ROW||r===e.a.FLIP_N_ROTATE_ROW?D=D.concat(s[U%2]):D=D.concat(s[0]),x.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),u.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1),M+=4;if(E>0||v>0){var K=v>0&&(f===e.a.CENTER||f===e.a.TOP),H=v>0&&(f===e.a.CENTER||f===e.a.BOTTOM),b=E>0&&(a===e.a.CENTER||a===e.a.RIGHT),F=E>0&&(a===e.a.CENTER||a===e.a.LEFT),X=[],C,y,B,I;if(K&&b&&(d.push(P+_,W+i,0),d.push(-n+_,W+i,0),d.push(-n+_,W+v+i,0),d.push(P+_,W+v+i,0),w.push(M,M+1,M+3,M+1,M+2,M+3),M+=4,C=1-E/o,y=1-v/h,B=1,I=1,X=[C,y,B,y,B,I,C,I],r===e.a.ROTATE_ROW&&(X=[1-C,1-y,1-B,1-y,1-B,1-I,1-C,1-I]),r===e.a.FLIP_ROW&&(X=[1-C,y,1-B,y,1-B,I,1-C,I]),r===e.a.FLIP_N_ROTATE_ROW&&(X=[C,1-y,B,1-y,B,1-I,C,1-I]),D=D.concat(X),x.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),u.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)),K&&F&&(d.push(n+_,W+i,0),d.push(A+_,W+i,0),d.push(A+_,W+v+i,0),d.push(n+_,W+v+i,0),w.push(M,M+1,M+3,M+1,M+2,M+3),M+=4,C=0,y=1-v/h,B=E/o,I=1,X=[C,y,B,y,B,I,C,I],(r===e.a.ROTATE_ROW||r===e.a.ROTATE_TILE&&t%2==0)&&(X=[1-C,1-y,1-B,1-y,1-B,1-I,1-C,1-I]),(r===e.a.FLIP_ROW||r===e.a.FLIP_TILE&&t%2==0)&&(X=[1-C,y,1-B,y,1-B,I,1-C,I]),(r===e.a.FLIP_N_ROTATE_ROW||r===e.a.FLIP_N_ROTATE_TILE&&t%2==0)&&(X=[C,1-y,B,1-y,B,1-I,C,1-I]),D=D.concat(X),x.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),u.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)),H&&b&&(d.push(P+_,l+i,0),d.push(-n+_,l+i,0),d.push(-n+_,T+i,0),d.push(P+_,T+i,0),w.push(M,M+1,M+3,M+1,M+2,M+3),M+=4,C=1-E/o,y=0,B=1,I=v/h,X=[C,y,B,y,B,I,C,I],(r===e.a.ROTATE_ROW&&m%2==1||r===e.a.ROTATE_TILE&&m%1==0)&&(X=[1-C,1-y,1-B,1-y,1-B,1-I,1-C,1-I]),(r===e.a.FLIP_ROW&&m%2==1||r===e.a.FLIP_TILE&&m%2==0)&&(X=[1-C,y,1-B,y,1-B,I,1-C,I]),(r===e.a.FLIP_N_ROTATE_ROW&&m%2==1||r===e.a.FLIP_N_ROTATE_TILE&&m%2==0)&&(X=[C,1-y,B,1-y,B,1-I,C,1-I]),D=D.concat(X),x.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),u.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)),H&&F&&(d.push(n+_,l+i,0),d.push(A+_,l+i,0),d.push(A+_,T+i,0),d.push(n+_,T+i,0),w.push(M,M+1,M+3,M+1,M+2,M+3),M+=4,C=0,y=0,B=E/o,I=v/h,X=[C,y,B,y,B,I,C,I],(r===e.a.ROTATE_ROW&&m%2==1||r===e.a.ROTATE_TILE&&(m+t)%2==1)&&(X=[1-C,1-y,1-B,1-y,1-B,1-I,1-C,1-I]),(r===e.a.FLIP_ROW&&m%2==1||r===e.a.FLIP_TILE&&(m+t)%2==1)&&(X=[1-C,y,1-B,y,1-B,I,1-C,I]),(r===e.a.FLIP_N_ROTATE_ROW&&m%2==1||r===e.a.FLIP_N_ROTATE_TILE&&(m+t)%2==1)&&(X=[C,1-y,B,1-y,B,1-I,C,1-I]),D=D.concat(X),x.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),u.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)),K){var G=[];C=0,y=1-v/h,B=1,I=1,G[0]=[C,y,B,y,B,I,C,I],G[1]=[C,y,B,y,B,I,C,I],(r===e.a.ROTATE_TILE||r===e.a.ROTATE_ROW)&&(G[1]=[1-C,1-y,1-B,1-y,1-B,1-I,1-C,1-I]),(r===e.a.FLIP_TILE||r===e.a.FLIP_ROW)&&(G[1]=[1-C,y,1-B,y,1-B,I,1-C,I]),(r===e.a.FLIP_N_ROTATE_TILE||r===e.a.FLIP_N_ROTATE_ROW)&&(G[1]=[C,1-y,B,1-y,B,1-I,C,1-I]);for(var L=0;L<t;L++)d.push(-n+L*o+_,W+i,0),d.push(-n+(L+1)*o+_,W+i,0),d.push(-n+(L+1)*o+_,W+v+i,0),d.push(-n+L*o+_,W+v+i,0),w.push(M,M+1,M+3,M+1,M+2,M+3),M+=4,r===e.a.FLIP_TILE||r===e.a.ROTATE_TILE||r===e.a.FLIP_N_ROTATE_TILE?D=D.concat(G[(L+1)%2]):r===e.a.FLIP_ROW||r===e.a.ROTATE_ROW||r===e.a.FLIP_N_ROTATE_ROW?D=D.concat(G[1]):D=D.concat(G[0]),x.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),u.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}if(H){var Z=[];C=0,y=0,B=1,I=v/h,Z[0]=[C,y,B,y,B,I,C,I],Z[1]=[C,y,B,y,B,I,C,I],(r===e.a.ROTATE_TILE||r===e.a.ROTATE_ROW)&&(Z[1]=[1-C,1-y,1-B,1-y,1-B,1-I,1-C,1-I]),(r===e.a.FLIP_TILE||r===e.a.FLIP_ROW)&&(Z[1]=[1-C,y,1-B,y,1-B,I,1-C,I]),(r===e.a.FLIP_N_ROTATE_TILE||r===e.a.FLIP_N_ROTATE_ROW)&&(Z[1]=[C,1-y,B,1-y,B,1-I,C,1-I]);for(var L=0;L<t;L++)d.push(-n+L*o+_,T-v+i,0),d.push(-n+(L+1)*o+_,T-v+i,0),d.push(-n+(L+1)*o+_,T+i,0),d.push(-n+L*o+_,T+i,0),w.push(M,M+1,M+3,M+1,M+2,M+3),M+=4,r===e.a.FLIP_TILE||r===e.a.ROTATE_TILE||r===e.a.FLIP_N_ROTATE_TILE?D=D.concat(Z[(L+m)%2]):r===e.a.FLIP_ROW||r===e.a.ROTATE_ROW||r===e.a.FLIP_N_ROTATE_ROW?D=D.concat(Z[m%2]):D=D.concat(Z[0]),x.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),u.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}if(b){var j=[];C=1-E/o,y=0,B=1,I=1,j[0]=[C,y,B,y,B,I,C,I],j[1]=[C,y,B,y,B,I,C,I],(r===e.a.ROTATE_TILE||r===e.a.ROTATE_ROW)&&(j[1]=[1-C,1-y,1-B,1-y,1-B,1-I,1-C,1-I]),(r===e.a.FLIP_TILE||r===e.a.FLIP_ROW)&&(j[1]=[1-C,y,1-B,y,1-B,I,1-C,I]),(r===e.a.FLIP_N_ROTATE_TILE||r===e.a.FLIP_N_ROTATE_ROW)&&(j[1]=[C,1-y,B,1-y,B,1-I,C,1-I]);for(var U=0;U<m;U++)d.push(P+_,-l+U*h+i,0),d.push(P+E+_,-l+U*h+i,0),d.push(P+E+_,-l+(U+1)*h+i,0),d.push(P+_,-l+(U+1)*h+i,0),w.push(M,M+1,M+3,M+1,M+2,M+3),M+=4,r===e.a.FLIP_TILE||r===e.a.ROTATE_TILE||r===e.a.FLIP_N_ROTATE_TILE?D=D.concat(j[(U+1)%2]):r===e.a.FLIP_ROW||r===e.a.ROTATE_ROW||r===e.a.FLIP_N_ROTATE_ROW?D=D.concat(j[U%2]):D=D.concat(j[0]),x.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),u.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}if(F){var N=[];C=0,y=0,B=E/h,I=1,N[0]=[C,y,B,y,B,I,C,I],N[1]=[C,y,B,y,B,I,C,I],(r===e.a.ROTATE_TILE||r===e.a.ROTATE_ROW)&&(N[1]=[1-C,1-y,1-B,1-y,1-B,1-I,1-C,1-I]),(r===e.a.FLIP_TILE||r===e.a.FLIP_ROW)&&(N[1]=[1-C,y,1-B,y,1-B,I,1-C,I]),(r===e.a.FLIP_N_ROTATE_TILE||r===e.a.FLIP_N_ROTATE_ROW)&&(N[1]=[C,1-y,B,1-y,B,1-I,C,1-I]);for(var U=0;U<m;U++)d.push(A-E+_,-l+U*h+i,0),d.push(A+_,-l+U*h+i,0),d.push(A+_,-l+(U+1)*h+i,0),d.push(A-E+_,-l+(U+1)*h+i,0),w.push(M,M+1,M+3,M+1,M+2,M+3),M+=4,r===e.a.FLIP_TILE||r===e.a.ROTATE_TILE||r===e.a.FLIP_N_ROTATE_TILE?D=D.concat(N[(U+t)%2]):r===e.a.FLIP_ROW||r===e.a.ROTATE_ROW||r===e.a.FLIP_N_ROTATE_ROW?D=D.concat(N[U%2]):D=D.concat(N[0]),x.push(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1),u.push(0,0,-1,0,0,-1,0,0,-1,0,0,-1)}}var V=R.sideOrientation===0?0:R.sideOrientation||z.a.DEFAULTSIDE;z.a._ComputeSides(V,d,w,u,D,R.frontUVs,R.backUVs);var Q=new z.a;Q.indices=w,Q.positions=d,Q.normals=u,Q.uvs=D;var J=V===z.a.DOUBLESIDE?x.concat(x):x;return Q.colors=J,Q};var S=function(){function R(){}return R.CreateTiledPlane=function(r,o,h){h===void 0&&(h=null);var a=new e.a(r,h);o.sideOrientation=e.a._GetDefaultSideOrientation(o.sideOrientation),a._originalBuilderSideOrientation=o.sideOrientation;var f=z.a.CreateTiledPlane(o);return f.applyToMesh(a,o.updatable),a},R}()},740:function(aa,$,g){"use strict";g.d($,"a",function(){return r});var e=g(436),z=g(446),S=g(706),R=g(756);z.a.CreateTube=function(o,h,a,f,O,t,E,c,m,v){var n={path:h,radius:a,tessellation:f,radiusFunction:O,arc:1,cap:t,updatable:c,sideOrientation:m,instance:v};return r.CreateTube(o,n,E)};var r=function(){function o(){}return o.CreateTube=function(h,a,f){f===void 0&&(f=null);var O=a.path,t=a.instance,E=1;a.radius!==void 0?E=a.radius:t&&(E=t._creationDataStorage.radius);var c=a.tessellation||64|0,m=a.radiusFunction||null,v=a.cap||z.a.NO_CAP,n=a.invertUV||!1,l=a.updatable,_=z.a._GetDefaultSideOrientation(a.sideOrientation);a.arc=a.arc&&(a.arc<=0||a.arc>1)?1:a.arc||1;var i=function(s,D,x,w,M,U,L,K){for(var H=D.getTangents(),b=D.getNormals(),F=D.getDistances(),X=Math.PI*2,C=X/M*K,y=function(){return w},B=U||y,I,G,Z,j,N=e.c.Matrix[0],V=L===z.a.NO_CAP||L===z.a.CAP_END?0:2,Q=0;Q<s.length;Q++){G=B(Q,F[Q]),I=Array(),Z=b[Q];for(var J=0;J<M;J++)e.a.RotationAxisToRef(H[Q],C*J,N),j=I[J]?I[J]:e.e.Zero(),e.e.TransformCoordinatesToRef(Z,N,j),j.scaleInPlace(G).addInPlace(s[Q]),I[J]=j;x[V]=I,V++}var p=function(Y,k){for(var ta=Array(),sa=0;sa<Y;sa++)ta.push(s[k]);return ta};switch(L){case z.a.NO_CAP:break;case z.a.CAP_START:x[0]=p(M,0),x[1]=x[2].slice(0);break;case z.a.CAP_END:x[V]=x[V-1].slice(0),x[V+1]=p(M,s.length-1);break;case z.a.CAP_ALL:x[0]=p(M,0),x[1]=x[2].slice(0),x[V]=x[V-1].slice(0),x[V+1]=p(M,s.length-1);break;default:break}return x},P,W;if(t){var A=t._creationDataStorage,T=a.arc||A.arc;return P=A.path3D.update(O),W=i(O,P,A.pathArray,E,A.tessellation,m,A.cap,T),t=S.a.CreateRibbon("",{pathArray:W,instance:t}),A.path3D=P,A.pathArray=W,A.arc=T,A.radius=E,t}P=new R.g(O);var d=new Array;v=v<0||v>3?0:v,W=i(O,P,d,E,c,m,v,a.arc);var u=S.a.CreateRibbon(h,{pathArray:W,closePath:!0,closeArray:!1,updatable:l,sideOrientation:_,invertUV:n,frontUVs:a.frontUVs,backUVs:a.backUVs},f);return u._creationDataStorage.pathArray=W,u._creationDataStorage.path3D=P,u._creationDataStorage.tessellation=c,u._creationDataStorage.cap=v,u._creationDataStorage.arc=a.arc,u._creationDataStorage.radius=E,u},o}()},741:function(aa,$,g){"use strict";g.d($,"a",function(){return o});var e=g(436),z=g(446),S=g(447),R=g(485),r=g(781);z.a.CreateDecal=function(h,a,f,O,t,E){var c={position:f,normal:O,size:t,angle:E};return o.CreateDecal(h,a,c)};var o=function(){function h(){}return h.CreateDecal=function(a,f,O){var t=f.getIndices(),E=f.getVerticesData(S.b.PositionKind),c=f.getVerticesData(S.b.NormalKind),m=f.getVerticesData(S.b.UVKind),v=O.position||e.e.Zero(),n=O.normal||e.e.Up(),l=O.size||e.e.One(),_=O.angle||0;if(!n){var i=new e.e(0,0,1),P=f.getScene().activeCamera,W=e.e.TransformCoordinates(i,P.getWorldMatrix());n=P.globalPosition.subtract(W)}var A=-Math.atan2(n.z,n.x)-Math.PI/2,T=Math.sqrt(n.x*n.x+n.z*n.z),d=Math.atan2(n.y,T),u=e.a.RotationYawPitchRoll(A,d,_).multiply(e.a.Translation(v.x,v.y,v.z)),s=e.a.Invert(u),D=f.getWorldMatrix(),x=D.multiply(s),w=new R.a;w.indices=[],w.positions=[],w.normals=[],w.uvs=[];for(var M=0,U=function(C){var y=new r.a;if(!t||!E||!c)return y;var B=t[C];return y.position=new e.e(E[B*3],E[B*3+1],E[B*3+2]),y.position=e.e.TransformCoordinates(y.position,x),y.normal=new e.e(c[B*3],c[B*3+1],c[B*3+2]),y.normal=e.e.TransformNormal(y.normal,x),O.captureUVS&&m&&(y.uv=new e.d(m[B*2],m[B*2+1])),y},L=function(C,y){if(C.length===0)return C;for(var B=.5*Math.abs(e.e.Dot(l,y)),I=function(q,ea){var va=e.e.GetClipFactor(q.position,ea.position,y,B);return new r.a(e.e.Lerp(q.position,ea.position,va),e.e.Lerp(q.normal,ea.normal,va))},G=new Array,Z=0;Z<C.length;Z+=3){var j,N,V,Q=0,J=null,p=null,Y=null,k=null,ta=e.e.Dot(C[Z].position,y)-B,sa=e.e.Dot(C[Z+1].position,y)-B,ra=e.e.Dot(C[Z+2].position,y)-B;switch(j=ta>0,N=sa>0,V=ra>0,Q=(j?1:0)+(N?1:0)+(V?1:0),Q){case 0:G.push(C[Z]),G.push(C[Z+1]),G.push(C[Z+2]);break;case 1:if(j&&(J=C[Z+1],p=C[Z+2],Y=I(C[Z],J),k=I(C[Z],p)),N){J=C[Z],p=C[Z+2],Y=I(C[Z+1],J),k=I(C[Z+1],p),G.push(Y),G.push(p.clone()),G.push(J.clone()),G.push(p.clone()),G.push(Y.clone()),G.push(k);break}V&&(J=C[Z],p=C[Z+1],Y=I(C[Z+2],J),k=I(C[Z+2],p)),J&&p&&Y&&k&&(G.push(J.clone()),G.push(p.clone()),G.push(Y),G.push(k),G.push(Y.clone()),G.push(p.clone()));break;case 2:j||(J=C[Z].clone(),p=I(J,C[Z+1]),Y=I(J,C[Z+2]),G.push(J),G.push(p),G.push(Y)),N||(J=C[Z+1].clone(),p=I(J,C[Z+2]),Y=I(J,C[Z]),G.push(J),G.push(p),G.push(Y)),V||(J=C[Z+2].clone(),p=I(J,C[Z]),Y=I(J,C[Z+1]),G.push(J),G.push(p),G.push(Y));break;case 3:break}}return G},K=0;K<t.length;K+=3){var H=new Array;if(H.push(U(K)),H.push(U(K+1)),H.push(U(K+2)),H=L(H,new e.e(1,0,0)),H=L(H,new e.e(-1,0,0)),H=L(H,new e.e(0,1,0)),H=L(H,new e.e(0,-1,0)),H=L(H,new e.e(0,0,1)),H=L(H,new e.e(0,0,-1)),H.length!==0)for(var b=0;b<H.length;b++){var F=H[b];w.indices.push(M),F.position.toArray(w.positions,M*3),F.normal.toArray(w.normals,M*3),O.captureUVS?F.uv.toArray(w.uvs,M*2):(w.uvs.push(.5+F.position.x/l.x),w.uvs.push(.5+F.position.y/l.y)),M++}}var X=new z.a(a,f.getScene());return w.applyToMesh(X),X.position=v.clone(),X.rotation=new e.e(d,A,_),X},h}()},742:function(aa,$,g){"use strict";g.d($,"a",function(){return R});var e=g(485),z=g(436),S=g(446);e.a.CreateCapsule=function(r){r===void 0&&(r={subdivisions:2,tessellation:16,height:1,radius:.25,capSubdivisions:6});var o=Math.max(r.subdivisions?r.subdivisions:2,1),h=Math.max(r.tessellation?r.tessellation:16,3),a=Math.max(r.height?r.height:1,0),f=Math.max(r.radius?r.radius:.25,0),O=Math.max(r.capSubdivisions?r.capSubdivisions:6,1),t=h,E=o,c=Math.max(r.radiusTop?r.radiusTop:f,0),m=Math.max(r.radiusBottom?r.radiusBottom:f,0),v=a-(c+m),n=0,l=2*Math.PI,_=Math.max(r.topCapSubdivisions?r.topCapSubdivisions:O,1),i=Math.max(r.bottomCapSubdivisions?r.bottomCapSubdivisions:O,1),P=Math.acos((m-c)/a),W=[],A=[],T=[],d=[],u=0,s=[],D=v*.5,x=Math.PI*.5,w,M,U=z.e.Zero(),L=z.e.Zero(),K=Math.cos(P),H=Math.sin(P),b=new z.d(c*H,D+c*K).subtract(new z.d(m*H,-D+m*K)).length(),F=c*P+b+m*(x-P),X=0;for(M=0;M<=_;M++){var C=[],y=x-P*(M/_);X+=c*P/_;var B=Math.cos(y),I=Math.sin(y),G=B*c;for(w=0;w<=t;w++){var Z=w/t,j=Z*l+n,N=Math.sin(j),V=Math.cos(j);L.x=G*N,L.y=D+I*c,L.z=G*V,A.push(L.x,L.y,L.z),U.set(B*N,I,B*V),T.push(U.x,U.y,U.z),d.push(Z,1-X/F),C.push(u),u++}s.push(C)}var Q=a-c-m+K*c-K*m,J=H*(m-c)/Q;for(M=1;M<=E;M++){var C=[];X+=b/E;var G=H*(M*(m-c)/E+c);for(w=0;w<=t;w++){var Z=w/t,j=Z*l+n,N=Math.sin(j),V=Math.cos(j);L.x=G*N,L.y=D+K*c-M*Q/E,L.z=G*V,A.push(L.x,L.y,L.z),U.set(N,J,V).normalize(),T.push(U.x,U.y,U.z),d.push(Z,1-X/F),C.push(u),u++}s.push(C)}for(M=1;M<=i;M++){var C=[],y=x-P-(Math.PI-P)*(M/i);X+=m*P/i;var B=Math.cos(y),I=Math.sin(y),G=B*m;for(w=0;w<=t;w++){var Z=w/t,j=Z*l+n,N=Math.sin(j),V=Math.cos(j);L.x=G*N,L.y=-D+I*m,L.z=G*V,A.push(L.x,L.y,L.z),U.set(B*N,I,B*V),T.push(U.x,U.y,U.z),d.push(Z,1-X/F),C.push(u),u++}s.push(C)}for(w=0;w<t;w++)for(M=0;M<_+E+i;M++){var p=s[M][w],Y=s[M+1][w],k=s[M+1][w+1],ta=s[M][w+1];W.push(p),W.push(Y),W.push(ta),W.push(Y),W.push(k),W.push(ta)}if(W=W.reverse(),r.orientation&&!r.orientation.equals(z.e.Up())){var sa=new z.a;r.orientation.clone().scale(Math.PI*.5).cross(z.e.Up()).toQuaternion().toRotationMatrix(sa);for(var ra=z.e.Zero(),q=0;q<A.length;q+=3)ra.set(A[q],A[q+1],A[q+2]),z.e.TransformCoordinatesToRef(ra.clone(),sa,ra),A[q]=ra.x,A[q+1]=ra.y,A[q+2]=ra.z}var ea=new e.a;return ea.positions=A,ea.normals=T,ea.uvs=d,ea.indices=W,ea},S.a.CreateCapsule=function(r,o,h){return R.CreateCapsule(r,o,h)};var R=function(){function r(){}return r.CreateCapsule=function(o,h,a){h===void 0&&(h={orientation:z.e.Up(),subdivisions:2,tessellation:16,height:1,radius:.25,capSubdivisions:6,updatable:!1}),a===void 0&&(a=null);var f=new S.a(o,a),O=e.a.CreateCapsule(h);return O.applyToMesh(f,h.updatable),f},r}()}}]);
