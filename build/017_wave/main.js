!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){var r=n(7),i=n(8),o=Number.EPSILON;function a(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}function s(t,e,n){return t*(1-n)+e*n}function c(t,e,n){return Math.abs(t-e)<o?0:(n-t)/(e-t)}function u(t,e){return e=r(e,0),"number"===typeof t&&isFinite(t)?t:e}function p(t){if("number"!==typeof t)throw new TypeError("Expected dims argument");return function(e,n){var i;n=r(n,0),null==e?i=n:"number"===typeof e&&isFinite(e)&&(i=e);var o,a=[];if(null==i)for(o=0;o<t;o++)a[o]=u(e[o],n);else for(o=0;o<t;o++)a[o]=i;return a}}function f(t,e,n,r){if(r=r||[],t.length!==e.length)throw new TypeError("min and max array are expected to have the same length");for(var i=0;i<t.length;i++)r[i]=s(t[i],e[i],n);return r}function h(t,e){if("number"!==typeof(t=r(t,0)))throw new TypeError("Expected n argument to be a number");for(var n=[],i=0;i<t;i++)n.push(e);return n}function l(t,e){return(t%e+e)%e}function d(t,e,n,r){return s(t,e,1-Math.exp(-n*r))}t.exports={mod:l,fract:function(t){return t-Math.floor(t)},sign:function(t){return t>0?1:t<0?-1:0},degToRad:function(t){return t*Math.PI/180},radToDeg:function(t){return 180*t/Math.PI},wrap:i,pingPong:function(t,e){return t=l(t,2*e),e-Math.abs(t-e)},linspace:function(t,e){if("number"!==typeof(t=r(t,0)))throw new TypeError("Expected n argument to be a number");"boolean"===typeof(e=e||{})&&(e={endpoint:!0});var n=r(e.offset,0);return e.endpoint?h(t).map((function(e,r){return t<=1?0:(r+n)/(t-1)})):h(t).map((function(e,r){return(r+n)/t}))},lerp:s,lerpArray:f,inverseLerp:c,lerpFrames:function(t,e,n){e=a(e,0,1);var r=t.length-1,i=e*r,o=Math.floor(i),c=i-o,u=Math.min(o+1,r),p=t[o%t.length],h=t[u%t.length];if("number"===typeof p&&"number"===typeof h)return s(p,h,c);if(Array.isArray(p)&&Array.isArray(h))return f(p,h,c,n);throw new TypeError("Mismatch in value type of two array elements: "+o+" and "+u)},clamp:a,clamp01:function(t){return a(t,0,1)},smoothstep:function(t,e,n){var r=a(c(t,e,n),0,1);return r*r*(3-2*r)},damp:d,dampArray:function(t,e,n,r,i){i=i||[];for(var o=0;o<t.length;o++)i[o]=d(t[o],e[o],n,r);return i},mapRange:function(t,e,n,r,i,a){if(Math.abs(e-n)<o)return r;var s=(t-e)/(n-e)*(i-r)+r;return a&&(i<r?s<i?s=i:s>r&&(s=r):s>i?s=i:s<r&&(s=r)),s},expand2D:p(2),expand3D:p(3),expand4D:p(4)}},function(t,e,n){t.exports=n(5)},function(t,e){function n(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,c,"next",t)}function c(t){n(a,i,o,s,c,"throw",t)}s(void 0)}))}}},function(t,e,n){(function(e){var n;n=function(){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var o=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,c=i(e),u=1;u<arguments.length;u++){for(var p in a=Object(arguments[u]))n.call(a,p)&&(c[p]=a[p]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(c[s[f]]=a[s[f]])}}return c},a="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function s(t,e){return t(e={exports:{}},e.exports),e.exports}var c=a.performance&&a.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date},u=function(t){return!!t&&("object"===typeof t||"function"===typeof t)&&"function"===typeof t.then},p=function(t){return!(!t||"object"!==typeof t)&&("object"===typeof window&&"object"===typeof window.Node?t instanceof window.Node:"number"===typeof t.nodeType&&"string"===typeof t.nodeName)};function f(){return"undefined"!==typeof window&&window["canvas-sketch-cli"]}function h(){for(var t=arguments,e=0;e<arguments.length;e++)if(null!=t[e])return t[e]}function l(){return"undefined"!==typeof document}var d,m,y=s((function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"===typeof Object.keys?Object.keys:n).shim=n})),g=(y.shim,s((function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:i).supported=r,e.unsupported=i}))),v=(g.supported,g.unsupported,s((function(t){var e=Array.prototype.slice,n=t.exports=function(t,o,a){return a||(a={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?a.strict?t===o:t==o:function(t,o,a){var s,c;if(r(t)||r(o))return!1;if(t.prototype!==o.prototype)return!1;if(g(t))return!!g(o)&&(t=e.call(t),o=e.call(o),n(t,o,a));if(i(t)){if(!i(o))return!1;if(t.length!==o.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==o[s])return!1;return!0}try{var u=y(t),p=y(o)}catch(f){return!1}if(u.length!=p.length)return!1;for(u.sort(),p.sort(),s=u.length-1;s>=0;s--)if(u[s]!=p[s])return!1;for(s=u.length-1;s>=0;s--)if(c=u[s],!n(t[c],o[c],a))return!1;return typeof t===typeof o}(t,o,a))};function r(t){return null===t||void 0===t}function i(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&"function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0])}}))),w=s((function(t,e){!function(e){var n=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g;return function(c,u,p,f){if(1!==arguments.length||"string"!==a(c)||/\d/.test(c)||(u=c,c=void 0),(c=c||new Date)instanceof Date||(c=new Date(c)),isNaN(c))throw TypeError("Invalid date");var h=(u=String(n.masks[u]||u||n.masks.default)).slice(0,4);"UTC:"!==h&&"GMT:"!==h||(u=u.slice(4),p=!0,"GMT:"===h&&(f=!0));var l=p?"getUTC":"get",d=c[l+"Date"](),m=c[l+"Day"](),y=c[l+"Month"](),g=c[l+"FullYear"](),v=c[l+"Hours"](),w=c[l+"Minutes"](),b=c[l+"Seconds"](),x=c[l+"Milliseconds"](),_=p?0:c.getTimezoneOffset(),M=i(c),k=o(c),E={d:d,dd:r(d),ddd:n.i18n.dayNames[m],dddd:n.i18n.dayNames[m+7],m:y+1,mm:r(y+1),mmm:n.i18n.monthNames[y],mmmm:n.i18n.monthNames[y+12],yy:String(g).slice(2),yyyy:g,h:v%12||12,hh:r(v%12||12),H:v,HH:r(v),M:w,MM:r(w),s:b,ss:r(b),l:r(x,3),L:r(Math.round(x/10)),t:v<12?n.i18n.timeNames[0]:n.i18n.timeNames[1],tt:v<12?n.i18n.timeNames[2]:n.i18n.timeNames[3],T:v<12?n.i18n.timeNames[4]:n.i18n.timeNames[5],TT:v<12?n.i18n.timeNames[6]:n.i18n.timeNames[7],Z:f?"GMT":p?"UTC":(String(c).match(e)||[""]).pop().replace(s,""),o:(_>0?"-":"+")+r(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10],W:M,N:k};return u.replace(t,(function(t){return t in E?E[t]:t.slice(1,t.length-1)}))}}();function r(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function i(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-r);var i=(e-n)/6048e5;return 1+Math.floor(i)}function o(t){var e=t.getDay();return 0===e&&(e=7),e}function a(t){return null===t?"null":void 0===t?"undefined":"object"!==typeof t?typeof t:Array.isArray(t)?"array":{}.toString.call(t).slice(8,-1).toLowerCase()}n.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},n.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},t.exports=n}()})),b="",x=function(t,e){if("string"!==typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;if(d!==t||"undefined"===typeof d)d=t,b="";else if(b.length>=n)return b.substr(0,n);for(;n>b.length&&e>1;)1&e&&(b+=t),e>>=1,t+=t;return b=(b+=t).substr(0,n)},_=function(){},M={extension:"",prefix:"",suffix:""},k=["image/png","image/jpeg","image/webp"];function E(t,e){return void 0===e&&(e={}),new Promise((function(n,r){e=o({},M,e);var i=j(Object.assign({},e,{extension:"",frame:void 0})),a=t?"streamStart":"streamEnd",s=f();return s&&s.output&&"function"===typeof s[a]?s[a](o({},e,{filename:i})).then((function(t){return n(t)})):n({filename:i,client:!1})}))}function T(t,e){return void 0===e&&(e={}),function(t){return new Promise((function(e){var n=t.indexOf(",");if(-1!==n){for(var r=t.slice(n+1),i=window.atob(r),o=t.slice(0,n),a=/data:([^;]+)/.exec(o),s=(a?a[1]:"")||void 0,c=new ArrayBuffer(i.length),u=new Uint8Array(c),p=0;p<i.length;p++)u[p]=i.charCodeAt(p);e(new window.Blob([c],{type:s}))}else e(new window.Blob)}))}(t).then((function(t){return P(t,e)}))}function P(t,e){return void 0===e&&(e={}),new Promise((function(n){var r=(e=o({},M,e)).filename,i=f();if(i&&"function"===typeof i.saveBlob&&i.output)return i.saveBlob(t,o({},e,{filename:r})).then((function(t){return n(t)}));m||((m=document.createElement("a")).style.visibility="hidden",m.target="_blank"),m.download=r,m.href=window.URL.createObjectURL(t),document.body.appendChild(m),m.onclick=function(){m.onclick=_,setTimeout((function(){window.URL.revokeObjectURL(t),m.parentElement&&m.parentElement.removeChild(m),m.removeAttribute("href"),n({filename:r,client:!1})}))},m.click()}))}function j(t){if(void 0===t&&(t={}),"function"===typeof(t=o({},t)).file)return t.file(t);if(t.file)return t.file;var e,n,r,i,a=null,s="";"string"===typeof t.extension&&(s=t.extension),"number"===typeof t.frame&&(e="number"===typeof t.totalFrames?t.totalFrames:Math.max(1e4,t.frame),n=String(t.frame),r=String(e).length,i="0",n=n.toString(),a="undefined"===typeof r?n:(i=0===i?"0":i?i.toString():" ",x(i,r-n.length)+n));var c=isFinite(t.totalLayers)&&isFinite(t.layer)&&t.totalLayers>1?""+t.layer:"";if(null!=a)return[c,a].filter(Boolean).join("-")+s;var u=t.timeStamp;return[t.prefix,t.name||u,c,t.hash,t.suffix].filter(Boolean).join("-")+s}var R={dimension:"dimensions",animated:"animate",animating:"animate",unit:"units",P5:"p5",pixellated:"pixelated",looping:"loop",pixelPerInch:"pixels"},S=["dimensions","units","pixelsPerInch","orientation","scaleToFit","scaleToView","bleed","pixelRatio","exportPixelRatio","maxPixelRatio","scaleContext","resizeCanvas","styleCanvas","canvas","context","attributes","parent","file","name","prefix","suffix","animate","playing","loop","duration","totalFrames","fps","playbackRate","timeScale","frame","time","flush","pixelated","hotkeys","p5","id","scaleToFitPadding","data","params","encoding","encodingQuality"],F=function(t){Object.keys(t).forEach((function(t){if(t in R){var e=R[t];console.warn('[canvas-sketch] Could not recognize the setting "'+t+'", did you mean "'+e+'"?')}else S.includes(t)||console.warn('[canvas-sketch] Could not recognize the setting "'+t+'"')}))},O=[["postcard",101.6,152.4],["poster-small",280,430],["poster",460,610],["poster-large",610,910],["business-card",50.8,88.9],["2r",64,89],["3r",89,127],["4r",102,152],["5r",127,178],["6r",152,203],["8r",203,254],["10r",254,305],["11r",279,356],["12r",305,381],["a0",841,1189],["a1",594,841],["a2",420,594],["a3",297,420],["a4",210,297],["a5",148,210],["a6",105,148],["a7",74,105],["a8",52,74],["a9",37,52],["a10",26,37],["2a0",1189,1682],["4a0",1682,2378],["b0",1e3,1414],["b1",707,1e3],["b1+",720,1020],["b2",500,707],["b2+",520,720],["b3",353,500],["b4",250,353],["b5",176,250],["b6",125,176],["b7",88,125],["b8",62,88],["b9",44,62],["b10",31,44],["b11",22,32],["b12",16,22],["c0",917,1297],["c1",648,917],["c2",458,648],["c3",324,458],["c4",229,324],["c5",162,229],["c6",114,162],["c7",81,114],["c8",57,81],["c9",40,57],["c10",28,40],["c11",22,32],["c12",16,22],["half-letter",5.5,8.5,"in"],["letter",8.5,11,"in"],["legal",8.5,14,"in"],["junior-legal",5,8,"in"],["ledger",11,17,"in"],["tabloid",11,17,"in"],["ansi-a",8.5,11,"in"],["ansi-b",11,17,"in"],["ansi-c",17,22,"in"],["ansi-d",22,34,"in"],["ansi-e",34,44,"in"],["arch-a",9,12,"in"],["arch-b",12,18,"in"],["arch-c",18,24,"in"],["arch-d",24,36,"in"],["arch-e",36,48,"in"],["arch-e1",30,42,"in"],["arch-e2",26,38,"in"],["arch-e3",27,39,"in"]].reduce((function(t,e){var n={units:e[3]||"mm",dimensions:[e[1],e[2]]};return t[e[0]]=n,t[e[0].replace(/-/g," ")]=n,t}),{}),C=["mm","cm","m","pc","pt","in","ft","px"],L={m:{system:"metric",factor:1},cm:{system:"metric",factor:.01},mm:{system:"metric",factor:.001},pt:{system:"imperial",factor:1/72},pc:{system:"imperial",factor:1/6},in:{system:"imperial",factor:1},ft:{system:"imperial",factor:12}};const A={metric:{unit:"m",ratio:1/.0254},imperial:{unit:"in",ratio:.0254}};var N=function(t,e,n,r){if("number"!==typeof t||!isFinite(t))throw new Error("Value must be a finite number");if(!e||!n)throw new Error("Must specify from and to units");var i=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}((r=r||{}).pixelsPerInch,96),o=r.precision,a=!1!==r.roundPixel;if(e=e.toLowerCase(),n=n.toLowerCase(),-1===C.indexOf(e))throw new Error('Invalid from unit "'+e+'", must be one of: '+C.join(", "));if(-1===C.indexOf(n))throw new Error('Invalid from unit "'+n+'", must be one of: '+C.join(", "));if(e===n)return t;var s=1,c=1,u=!1;"px"===e&&(c=1/i,e="in"),"px"===n&&(u=!0,s=i,n="in");var p=L[e],f=L[n],h=t*p.factor*c;p.system!==f.system&&(h*=A[p.system].ratio);var l=h/f.factor*s;return u&&a?l=Math.round(l):"number"===typeof o&&isFinite(o)&&(l=function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)}(l,o)),l},D=C;function H(t,e,n,r){return void 0===e&&(e="px"),void 0===n&&(n="px"),void 0===r&&(r=72),N(t,e,n,{pixelsPerInch:r,precision:4,roundPixel:!0})}function z(t,e){var n,r,i,o,a,s,c=l(),u=e.dimensions,p=function(t){return!!t.dimensions&&("string"===typeof t.dimensions||!!(Array.isArray(t.dimensions)&&t.dimensions.length>=2))}(e),f=t.exporting,d=!!p&&!1!==e.scaleToFit,m=!(!f&&p)||e.scaleToView;c||(d=m=!1);var y,g,v=e.units,w="number"===typeof e.pixelsPerInch&&isFinite(e.pixelsPerInch)?e.pixelsPerInch:72,b=h(e.bleed,0),x=c?window.devicePixelRatio:1,_=m?x:1;"number"===typeof e.pixelRatio&&isFinite(e.pixelRatio)?(y=e.pixelRatio,g=h(e.exportPixelRatio,y)):p?(y=_,g=h(e.exportPixelRatio,1)):(y=x,g=h(e.exportPixelRatio,y)),"number"===typeof e.maxPixelRatio&&isFinite(e.maxPixelRatio)&&(y=Math.min(e.maxPixelRatio,y)),f&&(y=g);var M,k,E=function(t,e){if(!l())return[300,150];var n=e.parent||window;if(n===window||n===document||n===document.body)return[window.innerWidth,window.innerHeight];var r=n.getBoundingClientRect();return[r.width,r.height]}(0,e),T=E[0],P=E[1];if(p){var j=function(t,e,n){if(void 0===e&&(e="px"),void 0===n&&(n=72),"string"===typeof t){var r=t.toLowerCase();if(!(r in O))throw new Error('The dimension preset "'+t+'" is not supported or could not be found; try using a4, a3, postcard, letter, etc.');var i=O[r];return i.dimensions.map((function(t){return H(t,i.units,e,n)}))}return t}(u,v,w),R=Math.max(j[0],j[1]),S=Math.min(j[0],j[1]);if(e.orientation){var F="landscape"===e.orientation;n=F?R:S,r=F?S:R}else n=j[0],r=j[1];M=n,k=r,n+=2*b,r+=2*b}else M=n=T,k=r=P;var C=n,L=r;if(p&&v&&(C=H(n,v,"px",w),L=H(r,v,"px",w)),i=Math.round(C),o=Math.round(L),d&&!f&&p){var A=n/r,N=T/P,D=h(e.scaleToFitPadding,40),z=Math.round(T-2*D),I=Math.round(P-2*D);(i>z||o>I)&&(N>A?(o=I,i=Math.round(o*A)):(i=z,o=Math.round(i/A)))}return{bleed:b,pixelRatio:y,width:n,height:r,dimensions:[n,r],units:v||"px",scaleX:(a=m?Math.round(y*i):Math.round(y*C))/n,scaleY:(s=m?Math.round(y*o):Math.round(y*L))/r,pixelsPerInch:w,viewportWidth:m?Math.round(i):Math.round(C),viewportHeight:m?Math.round(o):Math.round(L),canvasWidth:a,canvasHeight:s,trimWidth:M,trimHeight:k,styleWidth:i,styleHeight:o}}N.units=D;var I=function(t,e){if("string"!==typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"===typeof document&&!e.canvas)return null;var n=e.canvas||document.createElement("canvas");"number"===typeof e.width&&(n.width=e.width),"number"===typeof e.height&&(n.height=e.height);var r,i=e;try{var o=[t];0===t.indexOf("webgl")&&o.push("experimental-"+t);for(var a=0;a<o.length;a++)if(r=n.getContext(o[a],i))return r}catch(s){r=null}return r||null};function q(t){var e,n;void 0===t&&(t={});var r=!1;if(!1!==t.canvas){if(!(e=t.context)||"string"===typeof e){var i=t.canvas;i||(i=function(){if(!l())throw new Error("It appears you are runing from Node.js or a non-browser environment. Try passing in an existing { canvas } interface instead.");return document.createElement("canvas")}(),r=!0);var a=e||"2d";if("function"!==typeof i.getContext)throw new Error("The specified { canvas } element does not have a getContext() function, maybe it is not a <canvas> tag?");if(!(e=I(a,o({},t.attributes,{canvas:i}))))throw new Error("Failed at canvas.getContext('"+a+"') - the browser may not support this context, or a different context may already be in use with this canvas.")}if(n=e.canvas,t.canvas&&n!==t.canvas)throw new Error("The { canvas } and { context } settings must point to the same underlying canvas element");t.pixelated&&(e.imageSmoothingEnabled=!1,e.mozImageSmoothingEnabled=!1,e.oImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1,n.style["image-rendering"]="pixelated")}return{canvas:n,context:e,ownsCanvas:r}}var U=function(){var t=this;this._settings={},this._props={},this._sketch=void 0,this._raf=null,this._recordTimeout=null,this._lastRedrawResult=void 0,this._isP5Resizing=!1,this._keyboardShortcuts=function(t){void 0===t&&(t={});var e=function(e){if(t.enabled()){var n=f();83!==e.keyCode||e.altKey||!e.metaKey&&!e.ctrlKey?32===e.keyCode?t.togglePlay(e):n&&!e.altKey&&75===e.keyCode&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),t.commit(e)):(e.preventDefault(),t.save(e))}};return{attach:function(){window.addEventListener("keydown",e)},detach:function(){window.removeEventListener("keydown",e)}}}({enabled:function(){return!1!==t.settings.hotkeys},save:function(e){e.shiftKey?t.props.recording?(t.endRecord(),t.run()):t.record():t.props.recording||t.exportFrame()},togglePlay:function(){t.props.playing?t.pause():t.play()},commit:function(e){t.exportFrame({commit:!0})}}),this._animateHandler=function(){return t.animate()},this._resizeHandler=function(){t.resize()&&t.render()}},W={sketch:{configurable:!0},settings:{configurable:!0},props:{configurable:!0}};W.sketch.get=function(){return this._sketch},W.settings.get=function(){return this._settings},W.props.get=function(){return this._props},U.prototype._computePlayhead=function(t,e){return"number"===typeof e&&isFinite(e)?t/e:0},U.prototype._computeFrame=function(t,e,n,r){return isFinite(n)&&n>1?Math.floor(t*(n-1)):Math.floor(r*e)},U.prototype._computeCurrentFrame=function(){return this._computeFrame(this.props.playhead,this.props.time,this.props.totalFrames,this.props.fps)},U.prototype._getSizeProps=function(){var t=this.props;return{width:t.width,height:t.height,pixelRatio:t.pixelRatio,canvasWidth:t.canvasWidth,canvasHeight:t.canvasHeight,viewportWidth:t.viewportWidth,viewportHeight:t.viewportHeight}},U.prototype.run=function(){if(!this.sketch)throw new Error("should wait until sketch is loaded before trying to play()");return!1!==this.settings.playing&&this.play(),"function"===typeof this.sketch.dispose&&console.warn("In canvas-sketch@0.0.23 the dispose() event has been renamed to unload()"),this.props.started||(this._signalBegin(),this.props.started=!0),this.tick(),this.render(),this},U.prototype._cancelTimeouts=function(){null!=this._raf&&"undefined"!==typeof window&&"function"===typeof window.cancelAnimationFrame&&(window.cancelAnimationFrame(this._raf),this._raf=null),null!=this._recordTimeout&&(clearTimeout(this._recordTimeout),this._recordTimeout=null)},U.prototype.play=function(){var t=this.settings.animate;"animation"in this.settings&&(t=!0,console.warn("[canvas-sketch] { animation } has been renamed to { animate }")),t&&(l()?this.props.playing||(this.props.started||(this._signalBegin(),this.props.started=!0),this.props.playing=!0,this._cancelTimeouts(),this._lastTime=c(),this._raf=window.requestAnimationFrame(this._animateHandler)):console.error("[canvas-sketch] WARN: Using { animate } in Node.js is not yet supported"))},U.prototype.pause=function(){this.props.recording&&this.endRecord(),this.props.playing=!1,this._cancelTimeouts()},U.prototype.togglePlay=function(){this.props.playing?this.pause():this.play()},U.prototype.stop=function(){this.pause(),this.props.frame=0,this.props.playhead=0,this.props.time=0,this.props.deltaTime=0,this.props.started=!1,this.render()},U.prototype.record=function(){var t=this;if(!this.props.recording)if(l()){this.stop(),this.props.playing=!0,this.props.recording=!0;var e=this._createExportOptions({sequence:!0}),n=1/this.props.fps;this._cancelTimeouts();var r,i=function(){return t.props.recording?(t.props.deltaTime=n,t.tick(),t.exportFrame(e).then((function(){t.props.recording&&(t.props.deltaTime=0,t.props.frame++,t.props.frame<t.props.totalFrames?(t.props.time+=n,t.props.playhead=t._computePlayhead(t.props.time,t.props.duration),t._recordTimeout=setTimeout(i,0)):(console.log("Finished recording"),t._signalEnd(),t.endRecord(),t.stop(),t.run()))}))):Promise.resolve()};this.props.started||(this._signalBegin(),this.props.started=!0),this.sketch&&"function"===typeof this.sketch.beginRecord&&this._wrapContextScale((function(e){return t.sketch.beginRecord(e)})),(r=e,void 0===r&&(r={}),E(!0,r)).catch((function(t){console.error(t)})).then((function(e){t._raf=window.requestAnimationFrame(i)}))}else console.error("[canvas-sketch] WARN: Recording from Node.js is not yet supported")},U.prototype._signalBegin=function(){var t=this;this.sketch&&"function"===typeof this.sketch.begin&&this._wrapContextScale((function(e){return t.sketch.begin(e)}))},U.prototype._signalEnd=function(){var t=this;this.sketch&&"function"===typeof this.sketch.end&&this._wrapContextScale((function(e){return t.sketch.end(e)}))},U.prototype.endRecord=function(){var t,e=this,n=this.props.recording;return this._cancelTimeouts(),this.props.recording=!1,this.props.deltaTime=0,this.props.playing=!1,(void 0===t&&(t={}),E(!1,t)).catch((function(t){console.error(t)})).then((function(){n&&e.sketch&&"function"===typeof e.sketch.endRecord&&e._wrapContextScale((function(t){return e.sketch.endRecord(t)}))}))},U.prototype._createExportOptions=function(t){return void 0===t&&(t={}),{sequence:t.sequence,save:t.save,fps:this.props.fps,frame:t.sequence?this.props.frame:void 0,file:this.settings.file,name:this.settings.name,prefix:this.settings.prefix,suffix:this.settings.suffix,encoding:this.settings.encoding,encodingQuality:this.settings.encodingQuality,timeStamp:t.timeStamp||w(new Date,"yyyy.mm.dd-HH.MM.ss"),totalFrames:isFinite(this.props.totalFrames)?Math.max(0,this.props.totalFrames):1e3}},U.prototype.exportFrame=function(t){var e=this;if(void 0===t&&(t={}),!this.sketch)return Promise.all([]);"function"===typeof this.sketch.preExport&&this.sketch.preExport();var n=this._createExportOptions(t),r=f(),i=Promise.resolve();if(r&&t.commit&&"function"===typeof r.commit){var a=o({},n),s=r.commit(a);i=u(s)?s:Promise.resolve(s)}return i.then((function(t){return e._doExportFrame(o({},n,{hash:t||""}))})).then((function(t){return 1===t.length?t[0]:t}))},U.prototype._doExportFrame=function(t){var e=this;void 0===t&&(t={}),this._props.exporting=!0,this.resize();var n=this.render(),r=this.props.canvas;return"undefined"===typeof n&&(n=[r]),n=(n=[].concat(n).filter(Boolean)).map((function(e){var n,r="object"===typeof e&&e&&("data"in e||"dataURL"in e),i=r?e.data:e,a=r?o({},e,{data:i}):{data:i};if(p(n=i)&&/canvas/i.test(n.nodeName)&&"function"===typeof n.getContext){var s=function(t,e){void 0===e&&(e={});var n=e.encoding||"image/png";if(!k.includes(n))throw new Error("Invalid canvas encoding "+n);var r=(n.split("/")[1]||"").replace(/jpeg/i,"jpg");return r&&(r=("."+r).toLowerCase()),{extension:r,type:n,dataURL:t.toDataURL(n,e.encodingQuality)}}(i,{encoding:a.encoding||t.encoding,encodingQuality:h(a.encodingQuality,t.encodingQuality,.95)}),c=s.dataURL,u=s.extension,f=s.type;return Object.assign(a,{dataURL:c,extension:u,type:f})}return a})),this._props.exporting=!1,this.resize(),this.render(),Promise.all(n.map((function(e,n,r){var i=o({extension:"",prefix:"",suffix:""},t,e,{layer:n,totalLayers:r.length}),a=!1!==t.save&&e.save;for(var s in i.save=!1!==a,i.filename=j(i),delete i.encoding,delete i.encodingQuality,i)"undefined"===typeof i[s]&&delete i[s];var c=Promise.resolve({});if(i.save){var u=i.data;c=i.dataURL?T(i.dataURL,i):function(t,e){void 0===e&&(e={});var n=Array.isArray(t)?t:[t];return P(new window.Blob(n,{type:e.type||""}),e)}(u,i)}return c.then((function(t){return Object.assign({},i,t)}))}))).then((function(n){var r=n.filter((function(t){return t.save}));if(r.length>0){var i,o=r.find((function(t){return t.outputName})),a=r.some((function(t){return t.client})),s=r.some((function(t){return t.stream}));i=r.length>1?r.length:o?o.outputName+"/"+r[0].filename:""+r[0].filename;var c="";t.sequence?c=isFinite(e.props.totalFrames)?" (frame "+(t.frame+1)+" / "+e.props.totalFrames+")":" (frame "+t.frame+")":r.length>1&&(c=" files");var u=a?"canvas-sketch-cli":"canvas-sketch",p=s?"Streaming into":"Exported";console.log("%c["+u+"]%c "+p+" %c"+i+"%c"+c,"color: #8e8e8e;","color: initial;","font-weight: bold;","font-weight: initial;")}return"function"===typeof e.sketch.postExport&&e.sketch.postExport(),n}))},U.prototype._wrapContextScale=function(t){this._preRender(),t(this.props),this._postRender()},U.prototype._preRender=function(){var t=this.props;this.props.gl||!t.context||t.p5?t.p5&&t.p5.scale(t.scaleX/t.pixelRatio,t.scaleY/t.pixelRatio):(t.context.save(),!1!==this.settings.scaleContext&&t.context.scale(t.scaleX,t.scaleY))},U.prototype._postRender=function(){var t=this.props;this.props.gl||!t.context||t.p5||t.context.restore(),t.gl&&!1!==this.settings.flush&&!t.p5&&t.gl.flush()},U.prototype.tick=function(){this.sketch&&"function"===typeof this.sketch.tick&&(this._preRender(),this.sketch.tick(this.props),this._postRender())},U.prototype.render=function(){return this.props.p5?(this._lastRedrawResult=void 0,this.props.p5.redraw(),this._lastRedrawResult):this.submitDrawCall()},U.prototype.submitDrawCall=function(){if(this.sketch){var t,e=this.props;return this._preRender(),"function"===typeof this.sketch?t=this.sketch(e):"function"===typeof this.sketch.render&&(t=this.sketch.render(e)),this._postRender(),t}},U.prototype.update=function(t){var e=this;void 0===t&&(t={});var n=["animate"];Object.keys(t).forEach((function(t){if(n.indexOf(t)>=0)throw new Error("Sorry, the { "+t+" } option is not yet supported with update().")}));var r=this._settings.canvas,i=this._settings.context;for(var o in t){var a=t[o];"undefined"!==typeof a&&(e._settings[o]=a)}var s=Object.assign({},this._settings,t);if("time"in t&&"frame"in t)throw new Error("You should specify { time } or { frame } but not both");if("time"in t?delete s.frame:"frame"in t&&delete s.time,"duration"in t&&"totalFrames"in t)throw new Error("You should specify { duration } or { totalFrames } but not both");"duration"in t?delete s.totalFrames:"totalFrames"in t&&delete s.duration,"data"in t&&(this._props.data=t.data);var c=this.getTimeProps(s);if(Object.assign(this._props,c),r!==this._settings.canvas||i!==this._settings.context){var u=q(this._settings),p=u.canvas,f=u.context;this.props.canvas=p,this.props.context=f,this._setupGLKey(),this._appendCanvasIfNeeded()}return t.p5&&"function"!==typeof t.p5&&(this.props.p5=t.p5,this.props.p5.draw=function(){e._isP5Resizing||(e._lastRedrawResult=e.submitDrawCall())}),"playing"in t&&(t.playing?this.play():this.pause()),F(this._settings),this.resize(),this.render(),this.props},U.prototype.resize=function(){var t=this._getSizeProps(),e=this.settings,n=this.props,r=z(n,e);Object.assign(this._props,r);var i=this.props,o=i.pixelRatio,a=i.canvasWidth,s=i.canvasHeight,c=i.styleWidth,u=i.styleHeight,p=this.props.canvas;p&&!1!==e.resizeCanvas&&(n.p5?p.width===a&&p.height===s||(this._isP5Resizing=!0,n.p5.pixelDensity(o),n.p5.resizeCanvas(a/o,s/o,!1),this._isP5Resizing=!1):(p.width!==a&&(p.width=a),p.height!==s&&(p.height=s)),l()&&!1!==e.styleCanvas&&(p.style.width=c+"px",p.style.height=u+"px"));var f=this._getSizeProps(),h=!v(t,f);return h&&this._sizeChanged(),h},U.prototype._sizeChanged=function(){this.sketch&&"function"===typeof this.sketch.resize&&this.sketch.resize(this.props)},U.prototype.animate=function(){if(this.props.playing)if(l()){this._raf=window.requestAnimationFrame(this._animateHandler);var t=c(),e=1e3/this.props.fps,n=t-this._lastTime,r=this.props.duration,i="number"===typeof r&&isFinite(r),o=!0,a=this.settings.playbackRate;"fixed"===a?n=e:"throttle"===a?n>e?(t-=n%e,this._lastTime=t):o=!1:this._lastTime=t;var s=n/1e3,u=this.props.time+s*this.props.timeScale;u<0&&i&&(u=r+u);var p=!1,f=!1,h=!1!==this.settings.loop;if(i&&u>=r&&(h?(o=!0,u%=r,f=!0):(o=!1,u=r,p=!0),this._signalEnd()),o){this.props.deltaTime=s,this.props.time=u,this.props.playhead=this._computePlayhead(u,r);var d=this.props.frame;this.props.frame=this._computeCurrentFrame(),f&&this._signalBegin(),d!==this.props.frame&&this.tick(),this.render(),this.props.deltaTime=0}p&&this.pause()}else console.error("[canvas-sketch] WARN: Animation in Node.js is not yet supported")},U.prototype.dispatch=function(t){if("function"!==typeof t)throw new Error("must pass function into dispatch()");t(this.props),this.render()},U.prototype.mount=function(){this._appendCanvasIfNeeded()},U.prototype.unmount=function(){l()&&(window.removeEventListener("resize",this._resizeHandler),this._keyboardShortcuts.detach()),this.props.canvas.parentElement&&this.props.canvas.parentElement.removeChild(this.props.canvas)},U.prototype._appendCanvasIfNeeded=function(){l()&&!1!==this.settings.parent&&this.props.canvas&&!this.props.canvas.parentElement&&(this.settings.parent||document.body).appendChild(this.props.canvas)},U.prototype._setupGLKey=function(){var t;this.props.context&&("function"===typeof(t=this.props.context).clear&&"function"===typeof t.clearColor&&"function"===typeof t.bufferData?this._props.gl=this.props.context:delete this._props.gl)},U.prototype.getTimeProps=function(t){void 0===t&&(t={});var e=t.duration,n=t.totalFrames,r=h(t.timeScale,1),i=h(t.fps,24),o="number"===typeof e&&isFinite(e),a="number"===typeof n&&isFinite(n),s=o?Math.floor(i*e):void 0,c=a?n/i:void 0;if(o&&a&&s!==n)throw new Error("You should specify either duration or totalFrames, but not both. Or, they must match exactly.");"undefined"===typeof t.dimensions&&"undefined"!==typeof t.units&&console.warn("You've specified a { units } setting but no { dimension }, so the units will be ignored."),n=h(n,s,1/0),e=h(e,c,1/0);var u=t.time,p=t.frame,f="number"===typeof u&&isFinite(u),l="number"===typeof p&&isFinite(p),d=0,m=0,y=0;if(f&&l)throw new Error("You should specify either start frame or time, but not both.");return f?(d=u,y=this._computePlayhead(d,e),m=this._computeFrame(y,d,n,i)):l&&(d=(m=p)/i,y=this._computePlayhead(d,e)),{playhead:y,time:d,frame:m,duration:e,totalFrames:n,fps:i,timeScale:r}},U.prototype.setup=function(t){var e=this;if(void 0===t&&(t={}),this.sketch)throw new Error("Multiple setup() calls not yet supported.");this._settings=Object.assign({},t,this._settings),F(this._settings);var n=q(this._settings),r=n.context,i=n.canvas,o=this.getTimeProps(this._settings);this._props=Object.assign({},o,{canvas:i,context:r,deltaTime:0,started:!1,exporting:!1,playing:!1,recording:!1,settings:this.settings,data:this.settings.data,render:function(){return e.render()},togglePlay:function(){return e.togglePlay()},dispatch:function(t){return e.dispatch(t)},tick:function(){return e.tick()},resize:function(){return e.resize()},update:function(t){return e.update(t)},exportFrame:function(t){return e.exportFrame(t)},record:function(){return e.record()},play:function(){return e.play()},pause:function(){return e.pause()},stop:function(){return e.stop()}}),this._setupGLKey(),this.resize()},U.prototype.loadAndRun=function(t,e){var n=this;return this.load(t,e).then((function(){return n.run(),n}))},U.prototype.unload=function(){var t=this;this.pause(),this.sketch&&("function"===typeof this.sketch.unload&&this._wrapContextScale((function(e){return t.sketch.unload(e)})),this._sketch=null)},U.prototype.destroy=function(){this.unload(),this.unmount()},U.prototype.load=function(t,e){var n=this;if("function"!==typeof t)throw new Error("The function must take in a function as the first parameter. Example:\n  canvasSketcher(() => { ... }, settings)");this.sketch&&this.unload(),"undefined"!==typeof e&&this.update(e),this._preRender();var r=Promise.resolve();if(this.settings.p5){if(!l())throw new Error("[canvas-sketch] ERROR: Using p5.js in Node.js is not supported");r=new Promise((function(t){var e,r=n.settings.p5;r.p5&&(e=r.preload,r=r.p5);var i=function(r){e&&(r.preload=function(){return e(r)}),r.setup=function(){var e=n.props,i="webgl"===n.settings.context,o=i?r.WEBGL:r.P2D;r.noLoop(),r.pixelDensity(e.pixelRatio),r.createCanvas(e.viewportWidth,e.viewportHeight,o),i&&n.settings.attributes&&r.setAttributes(n.settings.attributes),n.update({p5:r,canvas:r.canvas,context:r._renderer.drawingContext}),t()}};if("function"===typeof r)new r(i);else{if("function"!==typeof window.createCanvas)throw new Error("{ p5 } setting is passed but can't find p5.js in global (window) scope. Maybe you did not create it globally?\nnew p5(); // <-- attaches to global scope");i(window)}}))}return r.then((function(){var e=t(n.props);return u(e)||(e=Promise.resolve(e)),e})).then((function(t){return t||(t={}),n._sketch=t,l()&&(n._keyboardShortcuts.attach(),window.addEventListener("resize",n._resizeHandler)),n._postRender(),n._sizeChanged(),n})).catch((function(t){throw console.warn("Could not start sketch, the async loading function rejected with an error:\n    Error: "+t.message),t}))},Object.defineProperties(U.prototype,W);var B="hot-id-cache",G=[];function Y(t,e){if(void 0===e&&(e={}),e.p5){if(e.canvas||e.context&&"string"!==typeof e.context)throw new Error('In { p5 } mode, you can\'t pass your own canvas or context, unless the context is a "webgl" or "2d" string');var n="string"===typeof e.context&&e.context;e=Object.assign({},e,{canvas:!1,context:n})}var r,i=function(){var t=f();return t&&t.hot}();i&&(r=h(e.id,"$__DEFAULT_CANVAS_SKETCH_ID__$"));var o=i&&"string"===typeof r;o&&G.includes(r)&&(console.warn("Warning: You have multiple calls to canvasSketch() in --hot mode. You must pass unique { id } strings in settings to enable hot reload across multiple sketches. ",r),o=!1);var a=Promise.resolve();if(o){G.push(r);var s=function(t){var e=f();if(e)return e[B]=e[B]||{},e[B][t]}(r);if(s){var c=function(){var t,n=(t=s.manager,e.animate?{time:t.props.time}:void 0);return s.manager.destroy(),n};a=s.load.then(c).catch(c)}}return a.then((function(n){var i,a=new U;return t?(e=Object.assign({},e,n),a.setup(e),a.mount(),i=a.loadAndRun(t)):i=Promise.resolve(a),o&&function(t,e){var n=f();n&&(n[B]=n[B]||{},n[B][t]=e)}(r,{load:i,manager:a}),i}))}return Y.canvasSketch=Y,Y.PaperSizes=O,Y},t.exports=n()}).call(this,n(6))},function(t,e){var n=window.AudioContext||window.webkitAudioContext;function r(t,e,i){if(!(this instanceof r))return new r(t,e,i);if(e instanceof n||(i=e,e=null),i=i||{},this.ctx=e=e||new n,t instanceof AudioNode||(t=t instanceof Audio||t instanceof HTMLAudioElement?e.createMediaElementSource(t):e.createMediaStreamSource(t)),this.analyser=e.createAnalyser(),this.stereo=!!i.stereo,this.audible=!1!==i.audible,this.wavedata=null,this.freqdata=null,this.splitter=null,this.merger=null,this.source=t,this.stereo){this.analyser=[this.analyser],this.analyser.push(e.createAnalyser()),this.splitter=e.createChannelSplitter(2),this.merger=e.createChannelMerger(2),this.output=this.merger,this.source.connect(this.splitter);for(var o=0;o<2;o++)this.splitter.connect(this.analyser[o],o,0),this.analyser[o].connect(this.merger,0,o);this.audible&&this.merger.connect(e.destination)}else this.output=this.source,this.source.connect(this.analyser),this.audible&&this.analyser.connect(e.destination)}t.exports=r,r.prototype.waveform=function(t,e){return t||(t=this.wavedata||(this.wavedata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount))),(this.stereo?this.analyser[e||0]:this.analyser).getByteTimeDomainData(t),t},r.prototype.frequencies=function(t,e){return t||(t=this.freqdata||(this.freqdata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount))),(this.stereo?this.analyser[e||0]:this.analyser).getByteFrequencyData(t),t}},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(T){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),a=new M(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=c;var p={};function f(){}function h(){}function l(){}var d={};s(d,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==e&&n.call(y,i)&&(d=y);var g=l.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var p=c.arg,f=p.value;return f&&"object"===typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){p.value=t,a(p)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=l,s(g,"constructor",l),s(l,"constructor",h),h.displayName=s(l,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(g),s(g,a,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}(t.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},function(t,e){t.exports=function(t,e,n){if("number"!==typeof e||"number"!==typeof n)throw new TypeError('Must specify "to" and "from" arguments as numbers');if(e>n){var r=e;e=n,n=r}var i=n-e;if(0===i)return n;return t-i*Math.floor((t-e)/i)}},function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(3),c=n.n(s),u=n(0),p=n(4),f=n.n(p);function h(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function l(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function d(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function m(t=d){if(t===d)return y;if("function"!==typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function y(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function g(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n){if(r=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n))).length){if((e=+e)<=0||r<2)return l(t);if(e>=1)return h(t);var r,i=(r-1)*e,o=Math.floor(i),a=h(function t(e,n,r=0,i=e.length-1,o){for(o=void 0===o?y:m(o);i>r;){if(i-r>600){const a=i-r+1,s=n-r+1,c=Math.log(a),u=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*u*(a-u)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*u/a+p)),Math.min(i,Math.floor(n+(a-s)*u/a+p)),o)}const a=e[n];let s=r,c=i;for(g(e,r,n),o(e[i],a)>0&&g(e,r,i);s<c;){for(g(e,s,c),++s,--c;o(e[s],a)<0;)++s;for(;o(e[c],a)>0;)--c}0===o(e[r],a)?g(e,r,c):(++c,g(e,c,i)),c<=n&&(r=c+1),n<=c&&(i=c-1)}return e}(t,o).subarray(0,o+1));return a+(l(t.subarray(o+1))-a)*(i-o)}}function w(t,e){for(var n=[],r=Math.floor(t.length/e),i=0;i<e;i+=1){for(var o=0,a=0;a<r;a+=1)o+=t[i*r+a];n.push(o/r)}return n}function b(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.beginPath();for(var r=0;r<e.length;r+=1){var i=e[r];0===r?t.moveTo(i[0],i[1]):t.lineTo(i[0],i[1])}n&&t.closePath()}var x=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];b(t,e,n),t.stroke()};var _={canvas:document.querySelector("#canvas"),dimensions:[1024,1024],animate:!0},M=function(){var t=a()(i.a.mark((function t(e){var n,r,o,a,s,c,p,h,l,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.width,r=e.height,o=e.canvas,a=.1*n,s=function(t){return Object(u.lerp)(a,n-a,t)},c=function(t){return Object(u.lerp)(a,r-a,t)},p=!1,d=[],o.addEventListener("click",(function(){p||(p=!0,(l=new Audio("assets/songs/lil_peep--spotlight-1.mp3")).play(),h=f()(l,{stereo:!1}))})),t.abrupt("return",{render:function(t){var e=t.context,n=t.width,r=t.height,i=t.time;if(!p)return e.fillStyle="hsla(0, 0%, 98%, 1)",e.fillRect(0,0,n,r),e.save(),e.translate(n/2,r/2),e.rotate(Math.cos(4*i)/5),e.font="bold 90px Arial",e.textAlign="center",e.fillStyle="hsl(0, 0%, 20%)",e.fillText("Click to start",0,0),void e.restore();if(!h)return e.fillStyle="hsla(0, 0%, 98%, 1)",void e.fillRect(0,0,n,r);e.fillStyle="hsla(0, 0%, 98%, 0.08)",e.fillRect(0,0,n,r);var o=h.frequencies();d=w(o,1e3).slice(50,650);for(var a,f=v(o,.5,a),l=[],m=Math.floor(d.length/15),y=0;y<15;y+=1){for(var g=d.slice(y*m,(y+1)*m),b=[],_=0;_<2*Math.PI;_+=.1){var M=Math.floor(_/(2*Math.PI)*g.length),k=Object(u.lerp)(1-.8/15*(y+1),1-.8/15*y,g[M]/63.75);b.push([k*Math.cos(_+i*Math.sqrt(y)/2)/2+.5,k*Math.sin(_+i*Math.sqrt(y)/2)/2+.5])}l.push(b)}l.forEach((function(t,n){var r=t.map((function(t){return[s(t[0]),c(t[1])]}));e.strokeStyle="hsl(".concat(2*f+10*n+30*i,", 50%,50%)"),x(e,r,!0)}))}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();c()(M,_)}]);